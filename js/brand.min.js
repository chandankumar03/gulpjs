!function($,window,document,undefined){"use strict";var old=$.fn.twbsPagination,TwbsPagination=function(element,options){if(this.$element=$(element),this.options=$.extend({},$.fn.twbsPagination.defaults,options),this.options.startPage<1||this.options.startPage>this.options.totalPages)throw new Error("Start page option is incorrect");if(this.options.totalPages=parseInt(this.options.totalPages),isNaN(this.options.totalPages))throw new Error("Total pages option is not correct!");if(this.options.visiblePages=parseInt(this.options.visiblePages),isNaN(this.options.visiblePages))throw new Error("Visible pages option is not correct!");if(this.options.totalPages<this.options.visiblePages&&(this.options.visiblePages=this.options.totalPages),this.options.onPageClick instanceof Function&&this.$element.first().on("page",this.options.onPageClick),this.options.href){var match,regexp=this.options.href.replace(/[-\/\\^$*+?.|[\]]/g,"\\$&");regexp=regexp.replace(this.options.pageVariable,"(\\d+)"),null!=(match=new RegExp(regexp,"i").exec(window.location.href))&&(this.options.startPage=parseInt(match[1],10))}var tagName="function"==typeof this.$element.prop?this.$element.prop("tagName"):this.$element.attr("tagName");return this.$listContainer="UL"===tagName?this.$element:$("<ul></ul>"),this.$listContainer.addClass(this.options.paginationClass),"UL"!==tagName&&this.$element.append(this.$listContainer),this.options.initiateStartPageClick?this.show(this.options.startPage):(this.render(this.getPages(this.options.startPage)),this.setupEvents()),this};TwbsPagination.prototype={constructor:TwbsPagination,destroy:function(){return this.$element.empty(),this.$element.removeData("twbs-pagination"),this.$element.off("page"),this},show:function(page){if(page<1||page>this.options.totalPages)throw new Error("Page is incorrect.");return this.render(this.getPages(page)),this.setupEvents(),this.$element.trigger("page",page),this},buildListItems:function(pages){var listItems=[];if(this.options.first&&listItems.push(this.buildItem("first",1)),this.options.prev){var prev=pages.currentPage>1?pages.currentPage-1:this.options.loop?this.options.totalPages:1;listItems.push(this.buildItem("prev",prev))}for(var i=0;i<pages.numeric.length;i++)listItems.push(this.buildItem("page",pages.numeric[i]));if(this.options.next){var next=pages.currentPage<this.options.totalPages?pages.currentPage+1:this.options.loop?1:this.options.totalPages;listItems.push(this.buildItem("next",next))}return this.options.last&&listItems.push(this.buildItem("last",this.options.totalPages)),listItems},buildItem:function(type,page){var $itemContainer=$("<li></li>"),$itemContent=$("<a></a>"),itemText=null;return itemText=this.options[type]?this.makeText(this.options[type],page):page,$itemContainer.addClass(this.options[type+"Class"]),$itemContainer.data("page",page),$itemContainer.data("page-type",type),$itemContainer.append($itemContent.attr("href",this.makeHref(page)).html(itemText)),$itemContainer},getPages:function(currentPage){var pages=[],half=Math.floor(this.options.visiblePages/2),start=currentPage-half+1-this.options.visiblePages%2,end=currentPage+half;start<=0&&(start=1,end=this.options.visiblePages),end>this.options.totalPages&&(start=this.options.totalPages-this.options.visiblePages+1,end=this.options.totalPages);for(var itPage=start;itPage<=end;)pages.push(itPage),itPage++;return{currentPage:currentPage,numeric:pages}},render:function(pages){var _this=this;this.$listContainer.children().remove();var items=this.buildListItems(pages);jQuery.each(items,function(key,item){_this.$listContainer.append(item)}),this.$listContainer.children().each(function(){var $this=$(this);switch($this.data("page-type")){case"page":$this.data("page")===pages.currentPage&&$this.addClass(_this.options.activeClass);break;case"first":$this.toggleClass(_this.options.disabledClass,1===pages.currentPage);break;case"last":$this.toggleClass(_this.options.disabledClass,pages.currentPage===_this.options.totalPages);break;case"prev":$this.toggleClass(_this.options.disabledClass,!_this.options.loop&&1===pages.currentPage);break;case"next":$this.toggleClass(_this.options.disabledClass,!_this.options.loop&&pages.currentPage===_this.options.totalPages)}})},setupEvents:function(){var _this=this;this.$listContainer.find("li").each(function(){var $this=$(this);$this.off(),$this.hasClass(_this.options.disabledClass)||$this.hasClass(_this.options.activeClass)?$this.on("click",!1):$this.click(function(evt){!_this.options.href&&evt.preventDefault(),_this.show(parseInt($this.data("page")))})})},makeHref:function(page){return this.options.href?this.makeText(this.options.href,page):"#"},makeText:function(text,page){return text.replace(this.options.pageVariable,page).replace(this.options.totalPagesVariable,this.options.totalPages)}},$.fn.twbsPagination=function(option){var methodReturn,args=Array.prototype.slice.call(arguments,1),$this=$(this),data=$this.data("twbs-pagination"),options="object"==typeof option?option:{};return data||$this.data("twbs-pagination",data=new TwbsPagination(this,options)),"string"==typeof option&&(methodReturn=data[option].apply(data,args)),void 0===methodReturn?$this:methodReturn},$.fn.twbsPagination.defaults={totalPages:1,startPage:1,visiblePages:5,initiateStartPageClick:!0,href:!1,pageVariable:"{{page}}",totalPagesVariable:"{{total_pages}}",page:null,first:"First",prev:"Previous",next:"Next",last:"Last",loop:!1,onPageClick:null,paginationClass:"pagination",nextClass:"next",prevClass:"prev",lastClass:"last",firstClass:"first",pageClass:"page",activeClass:"active",disabledClass:"disabled"},$.fn.twbsPagination.Constructor=TwbsPagination,$.fn.twbsPagination.noConflict=function(){return $.fn.twbsPagination=old,this}}(window.jQuery,window,document);var PF=PF||{},totalPageItems=33;void 0===PF.UTILITIES&&function(){window.root_url="undefined"==typeof root_url?"http://"+window.location.hostname:root_url,window.secure_url="undefined"==typeof secure_url?"https://"+window.location.hostname:secure_url;var _node=document.createElement("script");_node.type="text/javascript",_node.src=("http:"===window.location.protocol?root_url:secure_url)+"/js/utilities.js",document.getElementsByTagName("head")[0].appendChild(_node)}(),void 0===PF.BRANDS&&(!function(z,$){var utils=z.UTILITIES,o={d:$(document),w:$(window),filterContainerSel:"#allBrandsContainer",persistentScrollThreshold:.75,productsGridSel:"#brandList",nextPageLoadInProgress:!1,isBackBtnEvent:!1,noMoreProductsHtml:'<div id="no_more_products" class="clearfix">That\'s it! No more brands to display</div>',brands:{click:{"#brandCategoryTabAll a":["PF.BRANDS.filterClick","#page"],"#brandsCategoryList li:not(.selected) a":["PF.BRANDS.filterClick","#page"],"#brandsCategoryList li.selected a":["PF.BRANDS.preventDefault","#page"],"#CategoryMoreLink":["PF.BRANDS.viewMoreCategories","#page"],"#brandsCategorySortContainer a.brands-cat-more-txt":["PF.BRANDS.viewMoreSubCategories","#page"],"#brandsCategoryListMore div.brands-category-more-list-cont li:not(.selected) a":["PF.BRANDS.filterClick","#page"],"#brandsCategoryListMore div.brands-category-more-list-cont li.selected a":["PF.BRANDS.preventDefault","#page"]},change:{},mouseover:{"#brandsCategorySortContainer a.brands-cat-more-txt":["PF.BRANDS.viewMoreSubCategories","#page"]},mouseleave:{"#brandsCategoryListMore":["PF.BRANDS.viewMoreSubCategories","#page"]}},init:function(){if(o.itemsOnLoad=totalPageItems,o.itemsPerLoad=totalPageItems,o.nextPageUrl=root_url+"/site_product/getInfiniteDataNew",o.is_brand_page=!0,o.template_type=!1,o.totalItem=totalPageItems,o.totalPages=Math.ceil(parseInt(o.totalItem)/32),o.totalPages=o.totalPages>0?o.totalPages:1,o._pageData=[],o.loaded=!0,o.curPage=1,o.initRestOf(),window.location.hash&&"object"==typeof localStorage){var data=localStorage.getItem("back_pos_inf-"+window.location.hash.replace("#",""));null!==data&&JSON.parse(data).page>1&&(o.isBackBtnEvent=!0),o.deleteLocalData("back_pos_inf")}o.filterAndPageCommonInit()},initRestOf:function(initPage,maintainStatus){if(void 0===initPage||isNaN(initPage)){var currentPageSet=utils.getParameterByName("p");o.curPage=""!=currentPageSet?parseInt(currentPageSet):1}else o.curPage=parseInt(initPage);if(0==$("#pagination").length)return!1;$("#pagination").twbsPagination("destroy"),o.totalPages=Math.ceil(total_count/totalPageItems),$("#pagination").twbsPagination({totalPages:o.totalPages,visiblePages:5,prev:'<span class="prv-arrow"></span>',next:'Next <span class="next-arrow"></span>',last:"",startPage:o.curPage,initiateStartPageClick:!1,onPageClick:function(event,page){o.curPage=parseInt(page);var queryStr=utils.replaceQueryString(window.location.search,"p",page),arrayKeyStr=page;o._pageData[arrayKeyStr]?(history.pushState(page,"page "+page,queryStr),$("#brandList div.card-2by1").html(o._pageData[arrayKeyStr])):o.viewMoreBrands(page),o.curPage==o.totalPages?$("#subscriptionSection").show():$("#subscriptionSection").hide(),utils.lazyloadInit()}}),utils.lazyloadInit()},filterAndPageCommonInit:function(){o.catMaxHeight=$("#brandCategoryTabAll").outerHeight(!0),o.catMaxHeight>165&&$("#CategoryMoreLink").slideDown(),o.productsGrid=$(o.productsGridSel),o.productsGrid.length&&(o.productsGridTopOffset=o.productsGrid.offset().top),o.totalItems=total_count,utils.isNumber(o.totalItems)?o.remainingProductCount=o.totalItems-o.itemsOnLoad:o.remainingProductCount=0,o.remainingProductCount<=0&&(o.remainingProductCount=0),utils.lazyloadInit()},viewMoreBrands:function(page,callback){var brand_html="",image_path="",arr=$.map(brands_data,function(el){if(void 0!==el.info&&el.info.name)return el}),brands_arr=($(".brand-containerr").length,arr.splice((page-1)*totalPageItems,totalPageItems));if($.each(brands_arr,function(index,product){void 0!==product.info&&product.info.name&&(brand_html+='<div class="brand-card pf-col lg-4 sm-6 margin-bottom25">',brand_html+='<div class="brand-container pf-white brnd-prd-wrpr">',brand_html+="<a href="+product.info.url+">",brand_html+='<div class="brnd-ttl-img">',brand_html+='<div class="brand-img-wrpr">',image_path=product.info.img_path&&void 0!==product.info.img_path?product.info.img_path:img_src,brand_html+='<img class="lazy" src="'+img_src+'"  data-src="'+product.info.img_path+'" alt="" />',brand_html+="</div>",brand_html+='<div class="brnd-prdct-ttl">',brand_html+='<p class="pf-text-dark-grey font-20 pf-margin-0">'+product.info.name+"</p>",brand_html+="</div></div>",brand_html+='<div class="brnnd-prdct-dtails">',product.info.starting_from&&void 0!==product.info.starting_from&&(brand_html+='<p class="pf-text-dark-grey pf-bold-txt font-13 pf-margin-0">Starting Rs. '+utils.currencyFormat(product.info.starting_from)+"</p>"),product.info.style&&void 0!==product.info.style&&(brand_html+='<p class="pf-text-grey font-13 pf-margin-0"><span class="pf-semi-bold-text">Traits: </span><span>'+product.info.style+" </span></p>"),product.info.material&&void 0!==product.info.material&&(brand_html+='<p class="pf-text-grey font-13 pf-margin-0"><span class="pf-semi-bold-text">Material: </span><span>'+product.info.material+"</span></p>"),brand_html+="</div></a></div></div>")}),$("#brandList div.card-2by1").html(brand_html),$("#page_number").html(page),!0!==callback){var queryStr=utils.replaceQueryString(window.location.search,"p",page);history.pushState(page,"page "+page,queryStr)}o._pageData[page]=brand_html,$("html, body").animate({scrollTop:$("#brandsCategoryContainer").offset().top},"slow"),utils.lazyloadInit()},viewMoreCategories:function(){var $brandCatTab=$("#brandCategoryTab");$brandCatTab.toggleClass("cat-expand"),$brandCatTab.hasClass("cat-expand")?($(this).find("a").text("LESS"),$brandCatTab.css("maxHeight",o.catMaxHeight)):($(this).find("a").text("MORE"),$brandCatTab.css("maxHeight",165))},viewMoreSubCategories:function(e){if("mouseover"===e.type)return $("#brandsCategoryListMore").fadeIn(),void(global_function&&global_function.niceScroll());"mouseleave"!==e.type?(e.preventDefault(),e.stopPropagation(),$("#brandsCategoryListMore").fadeToggle(),global_function&&global_function.niceScroll()):$("#brandsCategoryListMore").fadeOut()},preventDefault:function(e){e.preventDefault(),e.stopPropagation()}};z.BRANDS=o}(PF,$),$(document).ready(function(){PF.BRANDS.init(),window.onpopstate=function(event){var tempcurPage=event.state;""==(tempcurPage=getParameterByName("p"))&&(tempcurPage=1),tempcurPage=parseInt(tempcurPage),PF.BRANDS._pageData[tempcurPage]?($("#brandList .card-2by1").html(PF.BRANDS._pageData[tempcurPage]),$("#page_number").html(tempcurPage)):($("#brandList .card-2by1").html(PF.BRANDS.viewMoreBrands(tempcurPage,!0)),$("#page_number").html(tempcurPage)),PF.BRANDS.initRestOf(tempcurPage)},$(".srch-rslt-more").length>0&&$(".srchrslt-more-box ").mCustomScrollbar({axis:"y"})})),$(function(){$(".brndpage-select-box select").select2(),$(".srch-rslt-maincat-wrpr li a").click(function(){$(".srch-rslt-maincat-wrpr li").removeClass("active"),$(this).parent().addClass("active")}),$("#srchrslt-more-btn").on("click",function(){$(".srchrslt-more-box").fadeToggle(),$("#srchrslt-more-btn .more-icn").toggleClass("clip-subcat-moreicn-clicked")}),$(".srchrslt-more-box, #srchrslt-more-btn").on("click",function(e){e.stopPropagation()}),$(document).bind("click",function(e){$(".srchrslt-more-box").hide(),$("#srchrslt-more-btn .more-icn").removeClass("clip-subcat-moreicn-clicked")})});
//# sourceMappingURL=brand.min.js.map