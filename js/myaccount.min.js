function loadMoreOrders(){var e=$("#load-more").attr("pid");$.ajax({url:root_url+"/customer_trackOrder/trackOrderDetails",data:{slimit:e,is_load:1},type:"POST",async:!0,beforeSend:function(){$("#load-more").addClass("btn-loader")},success:function(e){$(".view-more-return-orders").remove(),$("#order-wrapper").append(e),$("#load-more").removeClass("btn-loader")}})}function TrackData(e,t){var r=e+""+t;$.ajax({url:root_url+"/customer_trackOrder/trackItem/"+e+"/"+t+"/timeline",beforeSend:function(){$("#"+r).parent().parent().parent().parent().find(".time-container").css("display","block")},success:function(e){$("#"+r).parent().parent().parent().parent().find(".time-container").html(e),$("#"+r).parent().parent().parent().parent().find(".time-container").css("display","block").find(".row.tyo-track-dtl-row").css("display","block")}})}function mousePosition(e,t){var r=e.offset().left,s=e.offset().top,i=e.outerWidth(!0),a=e.outerHeight(!0),o=i/2,n=$(".track_your_order_wrap"),l=$("#track-order-tooltip");l.outerWidth(!0),l.offset().top,l.outerHeight(!0),n.offset().top,n.outerHeight(!0),e.hasClass("first")?$(".tyo_hover_details").css("marginLeft",-49):e.hasClass("last")?$(".tyo_hover_details").css("marginLeft",-288):$(".tyo_hover_details").css("marginLeft",-165),$(t).offset({left:r+o,top:s+a})}function IsEmail(e){return!!/^([a-zA-Z0-9_\.\-\+])+\@(([a-zA-Z0-9\-])+\.)+([a-zA-Z0-9]{2,4})+$/.test(e)}function showHidefilter(e){filterInput.className="inpt active",filterHolder.style.display="block",document.addEventListener("click",hidefilter),e.stopPropagation()}function searchFilter(){for(var e=filterInput.value.toLowerCase(),t=0;t<filterLiList.length;t++)filterLiList[t].innerText.toLowerCase().indexOf(e)>-1?filterLiList[t].style.display="block":filterLiList[t].style.display="none"}function hidefilter(e){$(e.target).closest("#furex-filter-holder").length<1&&filterInput.classList.contains("active")&&(e.stopPropagation(),filterInput.className="inpt",filterHolder.style.display="none",filterInput.value="",showAllFilterOption(),checkInput())}function showAllFilterOption(){for(var e=0;e<filterLiList.length;e++)filterLiList[e].style.display="block"}function checkInput(){for(var e in filterLiList)filterLiList.hasOwnProperty(e)&&void 0!=filterLiList[e]&&(filterLiList[e].classList.contains("selected")?filterLiList[e].querySelector("input").checked=!0:filterLiList[e].querySelector("input").checked=!1);document.removeEventListener("click",hidefilter)}function applyFurnitureFilter(e){e.preventDefault();for(var t in filterLiList)if(filterLiList.hasOwnProperty(t)&&void 0!=filterLiList[t])if(filterLiList[t].querySelector("input").checked&&filterLiList[t].classList.contains("selected"));else if(filterLiList[t].querySelector("input").checked&&!filterLiList[t].classList.contains("selected")){filterLiList[t].className="selected";var r=document.createElement("li");r.innerHTML=filterLiList[t].innerText.trim()+"<a href='javascript:void(0)' class='filter-remove'></a>",filterResult.querySelector("ul").appendChild(r),r.querySelector(".filter-remove").addEventListener("click",filterRemove),filterInputVal.push(filterLiList[t].innerText.trim())}else if("false"!==filterLiList[t].querySelector("input").checked&&filterLiList[t].classList.contains("selected")){filterLiList[t].className="",filterLiList[t].querySelector("input").checked=!1;for(var s in filterResult.querySelectorAll("li"))filterResult.querySelectorAll("li").hasOwnProperty(s)&&void 0!=filterResult.querySelectorAll("li")[s]&&filterResult.querySelectorAll("li")[s].innerText.trim()===filterLiList[t].innerText.trim()&&(filterResult.querySelectorAll("li")[s].outerHTML="");for(var i=0;i<filterInputVal.length;i++)filterInputVal[i].trim()===filterLiList[t].innerText.trim()&&filterInputVal.splice(i,1)}else filterLiList[t].className="",filterLiList[t].querySelector("input").checked=!1,filterLiList[t].style.display="block";0==filterInputVal.length?filterInputHidden.value="":filterInputHidden.value=JSON.stringify(filterInputVal),filterInput.parentElement.className="furniture-ex-search-wrap",filterInput.nextElementSibling.style.display="none",document.body.click(),document.querySelector(".furniture-ex-search-wrap .error-msg").style.display="none",filterResult.style.display="block"}function resetFurnitureFilter(e){e.preventDefault();for(var t in filterLiList)filterLiList.hasOwnProperty(t)&&void 0!=filterLiList[t]&&(filterLiList[t].className="",filterLiList[t].querySelector("input").checked=!1,filterLiList[t].style.display="block");filterResult.querySelector("ul").innerHTML="",0==(filterInputVal=[]).length?filterInputHidden.value="":filterInputHidden.value=JSON.stringify(filterInputVal),document.body.click()}function filterRemove(e){for(var t in filterLiList)filterLiList.hasOwnProperty(t)&&void 0!=filterLiList[t]&&filterLiList[t].querySelector("input").checked&&filterLiList[t].innerText.trim()===this.parentElement.innerText&&(filterLiList[t].className="",filterLiList[t].querySelector("input").checked=!1,removeFilterVal(this.parentElement.innerText.trim()),this.parentElement.outerHTML="")}function removeFilterVal(e){for(var t=0;t<filterInputVal.length;t++)filterInputVal[t]===e&&filterInputVal.splice(t,1);0==filterInputVal.length?filterInputHidden.value="":filterInputHidden.value=JSON.stringify(filterInputVal)}$(function(){$(document).on("click tap",".tyo-loggedin-track-button",function(){$(this).closest(".tyo-direct-order-sku-wrapper").find(".tyo_timeline_warp").length>0&&($(this).closest(".tyo-direct-order-sku-wrapper").find(".tyo_timeline_warp").slideDown(),$(this).hide(),$(this).siblings(".tyo-loggedin-close-button").show())}),$(document).on("click tap",".tyo-loggedin-close-button",function(){var e=$(this);$(this).closest(".tyo-direct-order-sku-wrapper").find(".tyo_timeline_warp").slideUp(function(){e.hide(),e.siblings(".tyo-loggedin-track-button").show()})}),$(".writeus-tabs li a").click(function(){var e=$(this).attr("data-tab");$(".writeus-tabs li a").removeClass("current-tab"),$(".writeus-tabs-content").removeClass("current-tab"),$(this).addClass("current-tab"),$("#"+e).addClass("current-tab")}),$("[data-pid=1]").click()}),$(document).on("mouseenter",".bottom_timeline_content a",function(){$(".tyo_strip_"+$(this).attr("data-tip")).show(),mousePosition($(this),".tyo_strip_"+$(this).attr("data-tip"))}),$(document).on("mouseleave",".bottom_timeline_content a",function(){$(".tyo_strip_"+$(this).attr("data-tip")).hide()}),$(function(){function e(e){var t=$("#"+e).find(".comments");""===t.val()?t.parent("div").addClass("frm-error-wrap").removeClass("frm-success-wrap"):t.parent("div").removeClass("frm-error-wrap").addClass("frm-success-wrap")}function t(e){var t=$("#"+e).find(".fname-ip");""===t.val()?t.parent("div").addClass("frm-error-wrap").removeClass("frm-success-wrap"):t.parent("div").removeClass("frm-error-wrap").addClass("frm-success-wrap")}function r(e){var t=$("#"+e).find(".email-ip");!1===IsEmail(t.val())?t.parent("div").addClass("frm-error-wrap").removeClass("frm-success-wrap"):t.parent("div").removeClass("frm-error-wrap").addClass("frm-success-wrap")}function s(e){var t=$("#"+e).find(".mobile-ip"),r=t.val();""===r?t.parent("div").addClass("frm-error-wrap").removeClass("frm-success-wrap"):r.length<10?t.parent("div").addClass("frm-error-wrap").removeClass("frm-success-wrap"):r.length>10?t.parent("div").addClass("frm-error-wrap").removeClass("frm-success-wrap"):isNaN(r)?t.parent("div").addClass("frm-error-wrap").removeClass("frm-success-wrap"):t.parent("div").removeClass("frm-error-wrap").addClass("frm-success-wrap")}function i(e){var t=$("#"+e).find(".orderid-ip"),r=t.val();""===r?t.parent("div").addClass("frm-error-wrap").removeClass("frm-success-wrap"):r.length<9?t.parent("div").addClass("frm-error-wrap").removeClass("frm-success-wrap"):isNaN(r)?t.parent("div").addClass("frm-error-wrap").removeClass("frm-success-wrap"):t.parent("div").removeClass("frm-error-wrap").addClass("frm-success-wrap")}function a(){!1===IsEmail($(".ck-login-frm-wrap .log-email").val())?($(".ck-login-frm-wrap .log-email").parent("div").addClass("frm-error-wrap").removeClass("frm-success-wrap"),eremailFlag=0):($(".ck-login-frm-wrap .log-email").parent("div").removeClass("frm-error-wrap").addClass("frm-success-wrap"),eremailFlag=1)}function o(){""===$(".ck-login-frm-wrap .log-pwd").val()?($(".ck-login-frm-wrap .log-pwd").parent("div").addClass("frm-error-wrap").removeClass("frm-success-wrap"),erpwdFlag=0):$(".ck-login-frm-wrap .log-pwd").val().length<6?($(".ck-login-frm-wrap .log-pwd").parent("div").addClass("frm-error-wrap").removeClass("frm-success-wrap"),erpwdFlag=0):($(".ck-login-frm-wrap .log-pwd").parent("div").removeClass("frm-error-wrap").addClass("frm-success-wrap"),erpwdFlag=1)}function n(){!1===IsEmail($(".ck-login-forgot-initial-wrap .log-email").val())?($(".ck-login-forgot-initial-wrap .log-email").parent("div").addClass("frm-error-wrap").removeClass("frm-success-wrap"),$(".ck-forgot-email-sub-text").hide()):($(".ck-login-forgot-initial-wrap .log-email").parent("div").removeClass("frm-error-wrap").addClass("frm-success-wrap"),$(".ck-login-frm-wrap,.ck-login-forgot-wrap").hide(),$(".ck-login-forgot-reseted-wrap,.ck-forgot-email-sub-text").show(),$("#forgotemailid").html($("#emailid_forgot").val()))}function l(){$(".ck-login-guest-modal input[type=text],.ck-login-guest-modal input[type=password],.ck-login-reg-wrap input[type=text],.ck-login-reg-wrap input[type=radio],.ck-login-reg-wrap input[type=number],.ck-login-reg-wrap input[type=password]").val(""),$(".ck-login-guest-modal input").parent("div").removeClass("frm-error-wrap"),$(".ck-login-guest-modal input").parent("div").removeClass("frm-success-wrap")}function d(e){var t=e.offset().left,r=e.offset().top,s=e.outerWidth(!0),i=e.outerHeight(!0),a=s/2,o=$(".st-nh-tyo-wrap"),n=$("#track-order-tooltip");n.outerWidth(!0),n.offset().top,n.outerHeight(!0),o.offset().top,o.outerHeight(!0),e.hasClass("first")?$(".tyo_hover_details").css("marginLeft",-49):e.hasClass("last")?$(".tyo_hover_details").css("marginLeft",-288):$(".tyo_hover_details").css("marginLeft",-165),$("#track-order-tooltip").offset({left:t+a,top:r+i})}$(".st-nh-search-ip").on("keypress change keyup",function(){$(this).val().length>=3?$(this).parents(".st-nh-sr-ip-wrap").find(".st-nh-sr-sug-wrap").slideDown(300):0===$(this).val().length&&$(this).parents(".st-nh-sr-ip-wrap").find(".st-nh-sr-sug-wrap").slideUp(300)}),$(".st-nh-search-ip").on("focusout",function(){0===$(this).val().length&&$(this).parents(".st-nh-sr-ip-wrap").find(".st-nh-sr-sug-wrap").slideUp(300)}),$(".st-faq-sec-name-listitem").on("click",function(){var e=$(this).attr("data-tab");$(".st-faq-sec-name-listitem").removeClass("current-tab"),$(".st-faq-sec-content-int-wrap").removeClass("current-tab"),$(this).addClass("current-tab"),$("#"+e).addClass("current-tab")}),$(".wtu-tabs-row .wtu-tab").on("click",function(){var e=$(this).attr("data-tab");$(".wtu-tabs-row .wtu-tab").removeClass("current-tab"),$(".wtu-tab-content-row .wtu-tab-int-content").removeClass("current-tab"),$(this).addClass("current-tab"),$("#"+e).addClass("current-tab"),$(".wtu-frm-row input[type=text],.wtu-frm-row input[type=number],.wtu-frm-row textarea").val(""),$(".wtu-thank-wrap").hide(),$("#"+e+"  .wtu-from-wrap").show(),$("#"+e+"Frm").find("input,select,textarea,file,select2").each(function(){$(this).parent("div").removeClass("frm-error-wrap").removeClass("frm-success-wrap")}),$(".wtuUnResolvedComplaintFrm_orderid").css("display","none"),$(".wtuUnResolvedIssueFrm_orderid").css("display","none"),$(".wtuUnResolvedIssueFrm_block").css("display","none"),grecaptcha.reset(widgetId1),grecaptcha.reset(widgetId2),grecaptcha.reset(widgetId3),$(".error-msg,.pf-text-red,.error-text").css("display","none")}),$(".wtu-file-uploaded-wrap .wtu-file-uloaded-rmv").on("click",function(){var e=$(".wtu-file-uploaded-wrap").children(".wtu-file-uloaded-row").length;e>1?($(this).closest(".wtu-file-uloaded-row").siblings(".wtu-file-addmore-row").slideDown(200),$(this).parent(".wtu-file-uloaded-row").remove()):1===e&&($(this).closest(".wtu-file-uloaded-row").siblings(".wtu-file-addmore-row").hide(),$(this).parents(".wtu-upload-row").find(".wtu-file-upload-wrap").show(),$(this).parent(".wtu-file-uloaded-row").remove())}),$(document).on("click",".st-nh-results-list-item-q",function(){$(this).hasClass("active")?($(this).removeClass("active"),$(this).parents(".st-nh-results-list").find(".st-nh-results-list-item-a").slideUp(300)):($(this).parents(".st-nh-results-list").find(".st-nh-results-list-item-q").removeClass("active"),$(this).parents(".st-nh-results-list").find(".st-nh-results-list-item-a").slideUp(200),$(this).addClass("active"),$(this).siblings(".st-nh-results-list-item-a").slideDown(300))}),$(".wtu-frm-row .fname-ip").on("focusout",function(){t($(this).closest("form").attr("id"))}),$(".wtu-frm-row .email-ip").on("focusout",function(){r($(this).closest("form").attr("id"))}),$(".wtu-frm-row .mobile-ip").on("focusout",function(){s($(this).closest("form").attr("id"))}),$(".wtu-frm-row .orderid-ip").on("focusout",function(){$(this).closest("form").attr("id")}),$(".wtu-frm-row .comments").on("focusout",function(){e($(this).closest("form").attr("id"))}),$("#wtuNewComplaintFrm .wtu-submit-btn").on("click",function(){}),$("#wtuUnResolvedComplaint .wtu-submit-btn,#wtuUnResolvedIssue  .wtu-submit-btn").on("click",function(){i($(this).closest("form").attr("id"))}),$(".ck-login-frm-wrap .log-email").on("focusout",function(){a()}),$(".ck-login-frm-wrap .log-pwd").on("keypress change keyup focus",function(){o()}),$("#retrive-pwd-btn").on("click",function(){n()}),$(".ck-login-m-forgot-link,.ck-pwd-reset-send-again").on("click",function(){$(".ck-login-frm-wrap,.ck-login-forgot-reseted-wrap").hide(),$(".ck-login-forgot-wrap").css("display","block")}),$(".ck-login-m-login-link").on("click",function(){$(".ck-login-forgot-reseted-wrap,.ck-login-forgot-wrap,.ck-login-reg-wrap").hide(),$(".ck-login-guest-modal,.ck-login-frm-wrap").show(),l()}),$("body").on("click",".st-nh-pro-tyo-btn",function(){$(this).parents(".tyo-mul-sku-dtl-row").find(".tyo-track-dtl-row").slideDown(300),$(this).hide(),$(this).siblings(".st-nh-pro-tyo-close-btn").css("display","block")}),$("body").on("click",".st-nh-pro-tyo-close-btn",function(){$(this).parents(".tyo-mul-sku-dtl-row").find(".tyo-track-dtl-row").parent(".time-container").css("display","none"),$(this).parents(".tyo-mul-sku-dtl-row").find(".tyo-track-dtl-row").slideUp(200),$(this).hide(),$(this).siblings(".st-nh-pro-tyo-btn").show()}),$(function(){$(".bottom_timeline_content a").each(function(){var e=$(this);$(this).on("mouseenter",function(){$("#track-order-tooltip").show(),d(e)}).mouseleave(function(){$("#track-order-tooltip").hide()})})})}),$(document).ready(function(){$("#franCity").select2({placeholder:"Select City"}),$("#city").select2({placeholder:"Select City"}),$(".wtu-reason-sel").length>0&&$(".wtu-reason-sel").select2(),$(".st-er2-orders-list-row:first-child .st-nh-pro-tyo-btn").length>0&&$(".st-er2-orders-list-row:first-child .st-nh-pro-tyo-btn").trigger("click")});var filterInput=document.getElementById("furniture-filter-input"),filterInputHidden=document.getElementById("furniture-filter-input-val"),filterInputVal=[];filterHolder=document.getElementById("furex-filter-holder"),filterResult=document.getElementById("furex-filter-result"),furApply=document.getElementById("furApply"),furDiscard=document.getElementById("furDiscard"),filterLiList=filterHolder.querySelectorAll("li"),filterInput.addEventListener("click",showHidefilter),filterInput.addEventListener("keyup",searchFilter),furApply.addEventListener("click",applyFurnitureFilter),furDiscard.addEventListener("click",resetFurnitureFilter);var PF=PF||{};void 0===PF.UTILITIES&&function(){window.root_url="undefined"==typeof root_url?"http://"+window.location.hostname:root_url,window.secure_url="undefined"==typeof secure_url?"https://"+window.location.hostname:secure_url;var e=document.createElement("script");e.type="text/javascript",e.src=("http:"===window.location.protocol?root_url:secure_url)+"/js/utilities.js",document.getElementsByTagName("head")[0].appendChild(e)}(),void 0===PF.MYACCOUNT&&(function(e,t){var r=e.UTILITIES,s={d:t(document),w:t(window),processError:"An error has occurred. Please refresh the page and try again.",formErrorHtml:'<div class="error-text">{{ERROR}}</div>',lastEnteredPin:"",formErrorMsg:{file_error:{file:"Please select a file",file_extension:"Please select a valid file",file_size:"Max 5Mb allowed!",file_noselect_flag:!0,file_size_error:!0}},dashboard:{click:{".tab-inner-content a.track-item-link":["PF.MYACCOUNT.trackOrder","#page"],".return-order-submit":["PF.MYACCOUNT.submitReturnFrom","#page"],".add-more-file":["PF.MYACCOUNT.callUploadFile","#page"],".remove-file":["PF.MYACCOUNT.removeUploadedFile","#page"],"return-popup-show":["PF.MYACCOUNT.resetReturnItemPopup","#page"],".fdbck-wrprmyacc.ratable .feedback-rate input,.myacc-fdbcksbmt-btn":"PF.MYACCOUNT.save_rating",".myacc-fdbcksbmt-btnwrpr .myacc-fdbckskip-btn":"PF.MYACCOUNT.slideHtml"},change:{".rpImage":["PF.MYACCOUNT.uploadFileOnSelect","#page"]},mouseenter:{".myacnt-shrfdbck-container":"PF.MYACCOUNT.openRatingHtml"},mouseleave:{".myacnt-shrfdbck-container":"PF.MYACCOUNT.closeRatingHtml"}},orders:{click:{".tab-inner-content a.track-item-link":["PF.MYACCOUNT.trackOrder","#page"],".return-order-submit":["PF.MYACCOUNT.submitReturnFrom","#page"],".remove-file":["PF.MYACCOUNT.removeUploadedFile","#page"],".add-more-file":["PF.MYACCOUNT.callUploadFile","#page"],"return-popup-show":["PF.MYACCOUNT.resetReturnItemPopup","#page"],"#clear_order_search_box":"PF.MYACCOUNT.myOrdersClearSearchBox",".fdbck-wrprmyacc.ratable .feedback-rate input,.myacc-fdbcksbmt-btn":"PF.MYACCOUNT.save_rating",".myacc-fdbcksbmt-btnwrpr .myacc-fdbckskip-btn":"PF.MYACCOUNT.slideHtml"},change:{"#maOrderselect2":["PF.MYACCOUNT.myOrdersMonthFilter","#page"],".rpImage":["PF.MYACCOUNT.uploadFileOnSelect","#page"]},keyup:{"#order_no":["PF.MYACCOUNT.myOrdersSearchByOrderNo","#page"]},mouseenter:{".myacnt-shrfdbck-container":"PF.MYACCOUNT.openRatingHtml"},mouseleave:{".myacnt-shrfdbck-container":"PF.MYACCOUNT.closeRatingHtml"}},wishlist:{click:{"#wishlistTab a.remove-wishlist-item":["PF.MYACCOUNT.removeFromWishlist","#page"],"#wishlistTab #popup_login_form":["PF.MYACCOUNT.submitWishlistComment","#page"]}},account:{click:{".my-profile-container .editBtn":["PF.MYACCOUNT.editInputBoxes","#page"],"#save-basic-profile":["PF.MYACCOUNT.updateProfile","#page"],"#saveChangePassword":["PF.MYACCOUNT.updatePassword","#page"]},change:{"input[name='gender']":["PF.MYACCOUNT.verifyGender","#page"]}},addressBook:{click:{"#maEnterYourNewAdd #saveAddress":["PF.MYACCOUNT.saveAddress","#page"],".address_delete":["PF.MYACCOUNT.deleteAddress","#page"],".address_edit,.add-new-address":["PF.MYACCOUNT.editAddressModal","#page"]},change:{"#maEnterYourNewAdd .ck-state-select":["PF.MYACCOUNT.verifyState","#page"],"#maEnterYourNewAdd .ck-country-select":["PF.MYACCOUNT.verifyCountry","#page"],".ma-address-tab input.radio_select":["PF.MYACCOUNT.setDefaultAddress","#page"]},submit:{},keyup:{"#postcode":["PF.MYACCOUNT.pinAutoComplete","#page"]}},returnItem:{click:{".return-order-submit":["PF.MYACCOUNT.submitReturnFrom","#page"],".remove-file":["PF.MYACCOUNT.removeUploadedFile","#page"],".add-more-file":["PF.MYACCOUNT.callUploadFile","#page"],"return-popup-show":["PF.MYACCOUNT.resetReturnItemPopup","#page"],".view-more-return-orders":["PF.MYACCOUNT.loadOrders","#page"]},change:{".rpImage":["PF.MYACCOUNT.uploadFileOnSelect","#page"]}},returnItemLogin:{click:{}},dedicatedNotification:{click:{".feedback-rate input":["PF.MYACCOUNT.chooseRating","#page"]},change:{".rating-reason":["PF.MYACCOUNT.changeFeedbackReason","#page"]}},init:function(){if(s.oneTimeLoad=!0,s.addressBookLoad=!1,s.maxFilesToUpload=3,t(".rating-reason").length>0&&t(".rating-reason").select2({minimumResultsForSearch:1/0}),t("#maOrderselect2").select2({minimumResultsForSearch:-1}),t("#maInitiateReturnselect2").select2({minimumResultsForSearch:-1}),t("#selectCountry").select2(),t("#selectState").select2(),t("#selectCountry2").select2(),t("#selectState2").select2(),-1!==window.location.pathname.indexOf("customer/dashboard"))r.listen(s.dashboard);else if(-1!==window.location.pathname.indexOf("customer/myorders")){r.listen(s.orders);var e=parseInt(r.getParameterByName("period"));isNaN(e)||t("#viewOrderTab div.month-filter-wrap select option").filter(function(){return parseInt(t(this).val())===e}).prop("selected",!0)}else-1!==window.location.pathname.indexOf("customer/wishlist")?r.listen(s.wishlist):-1!==window.location.pathname.indexOf("customer/account")?r.listen(s.account):-1!==window.location.pathname.indexOf("customer/address_book")?r.listen(s.addressBook):-1!==window.location.pathname.indexOf("customer/returnitem")?r.listen(s.returnItem):-1!==window.location.pathname.indexOf("customer/initiatereturnlogin")?r.listen(s.returnItemLogin):-1!==window.location.pathname.indexOf("customer/dedicatedNotification")&&r.listen(s.dedicatedNotification);XMLHttpRequest.prototype.sendAsBinary||(XMLHttpRequest.prototype.sendAsBinary=function(e){var t=Array.prototype.map.call(e,function(e){return 255&e.charCodeAt(0)}),r=new Uint8Array(t);try{this.send(r)}catch(e){this.send(r.buffer)}})},pinAutoComplete:function(){var e=parseInt(t(this).val());if(6===e.toString().length&&e>0&&s.lastEnteredPin!==e){s.lastEnteredPin=e;var i=t("#selectCountry").val(),a=secure_url+"/config_pincode/getpindata";"IN"===i&&r.makeRequest(a,"POST",{pincode:e},s.pinAutoCompleteResponse,PF.ERROR.raiseError,"",{},{dataType:"json"})}},pinAutoCompleteResponse:function(e){e?(void 0!==(e=t.parseJSON(e)).city&&e.city.length>1?t("#city").val(e.city).parent().addClass("input-filled"):t("#city").val("").parent().removeClass("input-filled"),void 0!==e.state&&e.state.length>1&&t('#selectState option[value="'+e.state+'"]').length>0?t("#selectState").val(e.state).select2().removeClass("disabled"):t("#selectState").select2("val",t("#region option:first").val())):(t("#form-area .ui-autocomplete,#form-area .ui-helper-hidden-accessible").remove(),t("#city").val("").removeClass("input-filled"),t("#selectState").val("").select2().removeClass("disabled"))},verifyState:function(){var e=t(".ck-state-select").closest("form").attr("id");if(!0===s.addressBookLoad)return!0;if("block"==t(".ck-state-select").parent("div").css("display"))""===(i=(r=t("#"+e).find(".ck-state-select")).val())?r.addClass("error-inpt").parent("div").addClass("frm-error-wrap").removeClass("frm-success-wrap"):r.removeClass("error-inpt").parent("div").removeClass("frm-error-wrap").addClass("frm-success-wrap");else{var r=t("#"+e).find(".ck-state-input"),i=r.val();""===i?r.parent("div").addClass("frm-error-wrap").removeClass("frm-success-wrap"):r.parent("div").removeClass("frm-error-wrap").addClass("frm-success-wrap")}},saveAddress:function(){var e=t("#maEnterYourNewAdd"),r=!1,i=(parseInt(t("#maEnterYourNewAdd #postcode").val()),t("#maEnterYourNewAdd #city").val().trim(),t("#maEnterYourNewAdd #selectCountry").val().trim()),a="";if(a="block"==t(".ck-state-select").parent("div").css("display")?t.trim(t(".ck-state-select").val()):t.trim(t(".ck-state-input").val()),"IN"===i||""===i){var o=t("#postcode").val().trim(),n=o.length;t("#postcode").parent("div").removeClass("frm-error-wrap").removeClass("frm-success-wrap"),""==o?(t("#postcode").parent("div").addClass("frm-error-wrap").removeClass("frm-success-wrap"),r=!0):6!=n?(t("#postcode").parent("div").removeClass("frm-success-wrap1").addClass("frm-error-wrap"),r=!0):isNaN(o)?(t("#postcode").parent("div").addClass("frm-error-wrap").removeClass("frm-success-wrap"),r=!0):t("#postcode").parent("div").removeClass("frm-error-wrap").addClass("frm-success-wrap")}0==r&&(r=PF.HEADER.validateForm("","maEnterYourNewAdd"));var l=/^[A-Za-z ]+$/;if(0!=r||""!==a&&a.match(l)?"block"==t(".form-select").parent("div").css("display")?t(".ck-state-input").parent("div").removeClass("frm-error-wrap").removeClass("frm-success-wrap"):t(".form-state-select").parent("div").removeClass("frm-error-wrap").removeClass("frm-success-wrap"):("block"==t(".form-select").css("display")?t(".ck-state-input").parent("div").addClass("frm-error-wrap").removeClass("frm-success-wrap"):t(".form-state-select").parent("div").addClass("frm-error-wrap").removeClass("frm-success-wrap"),r=!0),!r){var d=secure_url+"/address/addEditAddress/",c=e.serialize();t.ajax({url:d,data:c,type:"POST",beforeSend:function(){t("#saveAddress").attr("disabled","disabled").addClass("btn_loader")},success:function(e){if('"invalid"'==e)alert(s.processError);else{var t=secure_url+"/customer/address_book";window.location=t}},error:function(){alert("Some error occured")},complete:function(e){t("#saveAddress").removeAttr("disabled").removeClass("btn_loader")}})}return!1},verifyCountry:function(){var e=t(".ck-country-select").closest("form").attr("id"),r=t("#"+e).find(".ck-country-select"),s=r.val();t("#"+e).find(".ck-state-input").val(""),t("#"+e).find(".ck-state-select").val("").change(),"IN"!=s?(t(".ck-state-input").parent("div").css("display","block"),t(".ck-state-select").parent("div").css("display","none").attr("disabled"),t(".ck-state-input").removeAttr("disabled"),t(".ck-state-select").attr("disabled","true")):(t(".ck-state-input").parent("div").css("display","none").attr("disabled"),t(".ck-state-select").parent("div").css("display","block").removeAttr("disabled"),t(".ck-state-input").attr("disabled","true"),t(".ck-state-select").removeAttr("disabled")),""===s?r.addClass("error-inpt").parent("div").addClass("frm-error-wrap").removeClass("frm-success-wrap"):r.removeClass("error-inpt").parent("div").removeClass("frm-error-wrap").addClass("frm-success-wrap")},setDefaultAddress:function(e){t("input[name=address_select]").prop("checked",!1);var s=secure_url+"/address/makeDefault/"+this.value;r.makeRequest(s,"GET",{},function(e,r){t("#addressBook_"+r.id).prop("checked",!0)},PF.ERROR.raiseError,"",{id:this.value})},deleteAddress:function(e){if(confirm("Do you want to delete this address?")){var s=t(this).attr("value"),i=secure_url+"/address/deleteAddress";r.makeRequest(i,"POST",{address_id:s},function(e,r){t("#address-"+r.id).remove(),t("label.ship-address-main").each(function(e){var r=e+1;t(this).find("div:first").html("Address "+r)});var s=t(".ship-address-row").size();0===s&&t("#editAddressBlock").addClass("no-address"),s<10&&t("#editAddressBlock").show()},PF.ERROR.raiseError,"",{id:s})}},editAddressModal:function(e){var r=t(this).attr("modal-val");t(this).attr("data-modal",r),t("#my-addr-book-newaddr-popup").attr("data-modalname",r).find(".pf-semi-bold-text").html("Edit Address");var i=t(this).attr("data-id");t("#update_id").val(i),t("#maEnterYourNewAdd #name").val(t.trim(t("#fname-"+i).val())),t("#maEnterYourNewAdd #name2").val(t.trim(t("#lname-"+i).val())),t("#maEnterYourNewAdd #mobile").val(t.trim(t("#mobile-"+i).val())),t("#maEnterYourNewAdd #street").val(t.trim(t("#street-"+i).val())),t("#maEnterYourNewAdd #area").val(t.trim(t("#street1-"+i).val())),t("#maEnterYourNewAdd #landmark").val(t.trim(t("#landmark-"+i).val())),t("#maEnterYourNewAdd #city").val(t.trim(t("#city-"+i).val()));var a=t.trim(t("#state-"+i).val())?t.trim(t("#state-"+i).val()):"",o=""!=t("#countryid-"+i).val()&&"IN"!=t("#countryid-"+i).val()?t("#countryid-"+i).val():"IN";!1===t(this).hasClass("address_edit")&&(t("#my-addr-book-newaddr-popup").find("h5").html("Enter a New Address"),s.addressBookLoad=!0,t("#selectCountry").val("IN").change()),t(this).hasClass("address_edit")&&t("#selectCountry").val(o).change(),t("#form-contry").removeClass("frm-error-wrap").removeClass("frm-success-wrap"),s.addressBookLoad=!1,"IN"===t.trim(t("#countryid-"+i).val())||""===t.trim(t("#countryid-"+i).val())?(t("#form-state-select").css("display","block"),t("#form-state").css("display","none"),"add-address"!=r&&(t("#maEnterYourNewAdd #selectState").val(a).change(),t("#form-state-select").removeClass("frm-error-wrap").removeClass("frm-success-wrap")),t("#selectState").removeAttr("disabled"),t("#state_input").val(a).attr("disabled","disabled")):("add-address"!=r&&t("#form-state").removeClass("frm-error-wrap").removeClass("frm-success-wrap"),t("#selectState").attr("disabled","disabled"),t("#state_input").val(a).removeAttr("disabled"),t("#form-state-select").css("display","none"),t("#form-state").css("display","block")),t("#maEnterYourNewAdd #postcode").val(t.trim(t("#postcode-"+i).val())),t("#maEnterYourNewAdd #country").val(t.trim(t("#countryid-"+i).val())).select2(),t("#popup_overlay").fadeIn(function(){t("[data-modalname="+r+"]").fadeIn(),t("body").addClass("active")}),t(document).on("click",".popup-close,.popup_overlay",function(e){t("[data-modalname="+r+"]").fadeOut(function(){t("#my-addr-book-newaddr-popup").attr("data-modalname","add-address").find("h5").html("Enter a New Address"),t("#popup_overlay").fadeOut(),t("body").removeClass("active")}),e.preventDefault()}),t(document).keyup(function(e){27===e.keyCode&&t("[data-modalname="+r+"]").fadeOut(function(){t("#my-addr-book-newaddr-popup").attr("data-modalname","add-address").find("h5").html("Enter a New Address"),t("#popup_overlay").fadeOut(),t("body").removeClass("active")})})},editInputBoxes:function(e){t(this).hide().siblings(".inpt").focus().removeClass("disabled"),t(this).parents(".edit-info-sec").find(".pf-btn").removeClass("disabled").addClass("pf-hover-primary-color")},updateProfile:function(e){!1===PF.HEADER.validateForm("","maEditAddress")&&t("#maEditAddress").submit()},verifyGender:function(){t("#save-basic-profile").removeClass("disabled").addClass("pf-hover-primary-color")},updatePassword:function(e){t("#maresetPass"),PF.HEADER.validateForm("","maresetPass")||t("#maresetPass").submit()},removeFromWishlist:function(){var e=t(this).attr("data-id"),i=t(this).attr("data-type");if(!1===confirm("Do you want to remove this item from wishlist ?"))return!1;"bundle"==i?r.removeFromWishlist(e,s.removeFromWishlistHandler,"",1):"look"==i?r.removeFromWishlist(e,s.removeFromWishlistHandler,"",void 0,1):r.removeFromWishlist(e,s.removeFromWishlistHandler)},removeFromWishlistHandler:function(e){e=parseInt(e),isNaN(e)||1!==e?alert(s.processError):window.location.reload()},submitWishlistComment:function(e){var i=t(this).closest("form").attr("data-id"),a=t(this).closest("form").attr("data-type"),o=t("#wishlist_form-"+i).find("textarea"),n="wishlist_form-"+i,l=PF.HEADER.validateForm("",n),d=t.trim(s.escapeHtml(o.val()));if(!l){if(o.html(d),"bundle"==a)c=secure_url+"/site_wardrobe/addComments";else if("look"==a)c=secure_url+"/look/addComments";else var c=secure_url+"/customer_wishlist/addComments";r.makeRequest(c,"POST",{comments:d,item_id:i},s.submitWishlistCommentSuccess,PF.ERROR.raiseError,"",{id:i,comments:d})}return!1},myOrdersSearchByOrderNo:function(){var e=t(this),r=t.trim(e.val());isNaN(r)?e.val(""):e.parent().find("#clear_order_search_box").css("visibility",function(){return""!==r?t("#maSrchBtn").css("visibility","hidden"):t("#maSrchBtn").css("visibility","visible"),""!==r?"visible":"hidden"})},myOrdersMonthFilter:function(){var e=this.options[this.selectedIndex].value;window.location=isNaN(e)||0===e?secure_url+"/customer/myorders":secure_url+"/customer/myorders?period="+e},trackOrder:function(){var e=t(this);if("disabled"!==e.attr("disabled")){e.attr("disabled","disabled");var s=e.attr("data-id"),i=e.attr("data-pid"),a=secure_url+"/customer_trackOrder/trackItem/"+s+"/"+i+"/myorders";t(".tyo_popup_box").remove();var o=t("#viewOrderTab").length>0?"#viewOrderTab":"#accountDashboardTab";r.makeRequest(a,"GET",{},function(r,s){t(".tyo_popup_box").remove(),t("#deliveryStatus").html(r),e.removeAttr("disabled")},PF.ERROR.raiseError,function(){},{id:s,container:o})}},submitReturnFrom:function(e){var r=t(this).attr("itemid");e.preventDefault();var i=!0,a=t(this),o=a.attr("form-type"),n=t("#reason_select_"+a.attr("itemid")).val();t("#ws_comments_"+a.attr("itemid")).val(),r=t("#return-item-form-"+r+" .currentItemId").val();var l=0,d="",c="";if(t(".file-uploaded-wrap .uploade-img-list").length>0&&(c=(d=t(".file-uploaded-wrap .uploade-img-list:first").find("p").text()).split(".").pop().toLowerCase(),l=parseInt(t(".file-uploaded-wrap .uploade-img-list:first").attr("fsize"))),t("#return-item-form-"+r+" .invalid_file2").css({display:"none",color:"#969696"}),t("#return-item-form-"+r+" #invalid_file").html("Choose File .jpg, .jpeg, .png, .bmp Only. Max Size 5 Mb").css({color:"#969696"}),a.find("#return-item-form-"+r+" .error-msg").css("display","none"),""==n?(t("#reason-wrap-"+a.attr("itemid")).find(".error-msg").css("display","block"),i=!1):t("#reason-wrap-"+a.attr("itemid")).find(".error-msg").css("display","none"),""===d&&!0===i&&"Incomplete items or contents missing"!=n?(t("#return-item-form-"+r+" .invalid_file2").css({display:"block",color:"#d0021b"}),i=!1):t("#return-item-form-"+r+" .invalid_file2").css({display:"none",color:"#969696"}),""===c&&!0===i&&"Incomplete items or contents missing"!=n?(t("#return-item-form-"+r+" #invalid_file").css("color","#d0021b"),i=!1):-1===t.inArray(c,["doc","docx","jpg","jpeg","bmp","png"])&&!0===i&&"Incomplete items or contents missing"!=n?(t("#return-item-form-"+r+" #invalid_file").css("color","#d0021b"),i=!1):t("#return-item-form-"+r+" #invalid_file").css("color","#969696"),!0===i&&(0==l||l>5247880)&&"Incomplete items or contents missing"!=n?(t("#return-item-form-"+r+" #invalid_file").css("color","#d0021b"),i=!1):t("#return-item-form-"+r+" #invalid_file").css("color","#969696"),i&&(i=!PF.HEADER.validateForm("","return-item-form-"+r)),i){a.attr("disabled","disabled").addClass("btn-blue btn-loader");var m=t("#return-item-form-"+a.attr("itemid")).serialize();s.callBack(m,a,o)}},callBack:function(e,i,a){var o=i,n=secure_url+"/customer/return_request",l={processData:!1,cache:!1};r.makeRequest(n,"POST",e,function(e){var r=t.parseJSON(e);if(1==r.status)1==a?(t("#returnItemModal-"+o.attr("itemid")).removeAttr("data-modal").attr("href","javascript:void(0);").css("cursor","default").addClass("disabled-tt").text("Return Initiated").attr("data-tooltip","Return Already initiated"),t(".popup-close").click(),o.removeAttr("disabled").removeClass("btn-blue btn-loader")):(t("#return-reason-form-"+o.attr("itemid")).hide(),t("#return-form-success-message-"+o.attr("itemid")).show());else{if(o.removeAttr("disabled").removeClass("btn-blue btn-loader"),2==r.status){t("div.error-text").remove();var i,n=t("#file-wrap-"+o.attr("itemid"));i="Upload error!!, Please select a file again"===r.error.upload_error?s.formErrorHtml.replace("{{ERROR}}",r.error.upload_error):s.formErrorHtml.replace("{{ERROR}}",r.error.invalid_size),n.addClass("input-error").append(i),n.find("div.error-text").show()}-1==r.status&&alert(r.message)}},PF.ERROR.raiseError,"",{},l)},loadOrders:function(e){e.preventDefault();var s=t(this),i=parseInt(s.attr("page"))+1,a=secure_url+"/customer/loadorders";r.makeRequest(a,"GET",{p:i},function(e,r){t(".view-more-return-orders").remove(),t("#return-orders-wrap-container").append(e),t("#return_item_load_btn").attr("page",i)},PF.ERROR.raiseError,"",{})},callUploadFile:function(){t(this).closest("form").find(".rpImage").trigger("click")},resetReturnItemPopup:function(){t(this).closest("form").trigger("trigger"),t(this).closest("file-uploaded-wrap").html("")},uploadFileOnSelect:function(){var e=t(this).closest("form").find(".return-order-submit").attr("itemId"),r=parseInt(t("#return-item-form-"+e+" .file-uploaded-wrap .uploade-img-list").length)+1;r>0?t("#return-item-form-"+e+" .file-upload-wrap").hide():t("#return-item-form-"+e+" .file-upload-wrap").show();var i=t("#filesUpload-"+e)[0].files[0].name.split(".").pop().toLowerCase(),a=t("#filesUpload-"+e)[0].files[0].size;switch(i){case"doc":case"docx":case"jpg":case"jpeg":case"png":case"bmp":if(r>=s.maxFilesToUpload&&t("#return-item-form-"+e+" .add-more-file").hide(),!(a<=5247880))return 1==r&&t(".file-upload-wrap").show(),t("#return-item-form-"+e+" #invalid_file").html("Max 5Mb allowed!").css("color","#d0021b").show(),r>=s.maxFilesToUpload&&t("#return-item-form-"+e+" .add-more-file").hide(),!1;if(t("#return-item-form-"+e+" #invalid_file").hide(),!(r<=s.maxFilesToUpload))return t("#return-item-form-"+e+" .add-more-file").hide(),t("#return-item-form-"+e+" #invalid_file").html("Max 5 files are allowed!").css("color","#d0021b"),r>=5&&t("#return-item-form-"+e+" .add-more-file").hide(),!1;s.getDataFeedback(i,r,e);break;default:t(".file-upload-wrap").show(),t("#return-item-form-"+e+" #invalid_file").css("color","#d0021b"),t("#return-item-form-"+e+" .return-order-submit").removeAttr("disabled"),t("#return-item-form-"+e+" .return-order-submit").removeClass("disabled"),t("#return-item-form-"+e+" .return-order-submit").val("Return Item");var o=t("#return-item-form-"+e+" #file-wrap-"+e);t("div.error-text").remove();var n=s.formErrorHtml.replace("{{ERROR}}",s.formErrorMsg.file_error.file_extension);return o.addClass("input-error").append(n),o.find("div.error-text").show(),!1}},getDataFeedback:function(e,r,i){var a=t("#return-item-form-"+i+" .currentItemId").val();void 0===r&&(r="");var o=1,n=0,l=t("#filesUpload-"+a)[0].files[0].size,d=encodeURIComponent(t("#return-item-form-"+a+" #filesUpload-"+a)[0].files[0].name),c=Math.random().toString(36).substr(2,30),m=d.split(".")[0];d=encodeURIComponent(m+c+"."+e);var p=1,u=(document.getElementById("feddback_rpImage_"+r),new FileReader);u.onload=function(c){var m=new XMLHttpRequest,h=m.upload;m.onreadystatechange=function(){if(4==this.readyState&&200==this.status){var e=m.responseText;if("invalid_file"===e&&1===p)return alert("Invalid image file!"),t("#invalid_size").html("Invalid image file!"),t("#feddback_rpImage_"+r).html("Choose File"),t("#return-item-form-"+i+" .return-order-submit").removeClass("disabled"),t("#return-item-form-"+i+" .return-order-submit").removeAttr("disabled"),t("#return-item-form-"+i+" .return-order-submit").val("Return Item"),m.abort(),p=0,void(n=100*l);if(5<o&&"image_size_exeeded"===e&&1===p)return alert("Image is too big! Please reduce the size of your photo using an image editor. Max 5 MB is allowed."),t("#invalid_file").html("Max 5Mb allowed!"),t("#feddback_rpImage_"+r).html("Choose File"),t("#return-item-form-"+i+" .return-order-submit").removeClass("disabled"),t("#return-item-form-"+i+" .return-order-submit").removeAttr("disabled"),t("#return-item-form-"+i+" .return-order-submit").val("Return Item"),m.abort(),p=0,void(n=100*l);if(n>=l){if(t("#return-item-form-"+i+" .return-order-submit").removeClass("disabled"),t("#return-item-form-"+i+" .return-order-submit").removeAttr("disabled"),t("#return-item-form-"+i+" .return-order-submit").val("Return Item"),p){t("#return-item-form-"+a+" .rpImage").val("");var d="<div class='uploade-img-list' sr-no='"+(parseInt(t("#return-item-form-"+a+" .file-uploaded-wrap .uploade-img-list").length)+1)+"' fsize='"+l+"'><p class='uploaded-img'>"+e+"</p>  <a href='javascript:;' class='pf-text-brown remove-file font-12'>Remove</a> </div>";s.oneTimeLoad?(t(".remove-file, .add-more-file").css({display:"inline-block","margin-top":"-1.5rem"}),t("#return-item-form-"+a+" .file-uploaded-wrap").html(d),t(".remove-file").css({display:"inline-block","margin-top":"-1.5rem"}),s.oneTimeLoad=!1):(t("#return-item-form-"+a+" .file-uploaded-wrap .uploade-img-list").parent().append(d),t(".remove-file").css({display:"inline-block","margin-top":"-1.5rem"}),t("#return-item-form-"+a+" .uploade-img-list").length==s.maxFilesToUpload&&t("#return-item-form-"+a+".add-more-file").hide())}else t("#feddback_rpImage_"+r).html("Choose File");return m.abort(),p=0,void(n=100*l)}}},h.addEventListener("load",function(){var e=(n+=1048576)/l*100;e>100&&(e=100),t("#return-item-form-"+a).find("input[type=submit]").addClass("btn-loader").attr("disabled","disabled"),n<=l?(f=t("#filesUpload-"+a)[0].files[0].slice(n,n+1048576),u.readAsBinaryString(f,s.log)):(n=l,t("#return-item-form-"+a).find("input[type=submit]").removeClass("btn-loader").removeAttr("disabled"))},!1),p&&(m.open("POST",root_url+"/customer/feedbackFileUpload?fileName="+d+"&fileType="+e+"&fileSize="+l+"&nocache="+(new Date).getTime()+"&totalRequest=5&currentId="+r+"&count="+o++),m.overrideMimeType("application/octet-stream"),m.sendAsBinary(c.target.result))};var f=t("#filesUpload-"+a)[0].files[0].slice(0,1048576);u.readAsBinaryString(f,s.log)},removeUploadedFile:function(){var e=t(this).parent(".uploade-img-list").parent(".file-uploaded-wrap").find(".uploade-img-list").length;t(this).parents(".uploade-img-list").remove(),t(".rpImage").val(""),t(".rpImage").parent("div").find("label").text("Choose file"),1==e?(s.oneTimeLoad=!0,t(".file-upload-wrap").show(),t(".add-more-file").hide()):(t(".file-upload-wraped").hide(),t(".add-more-file").show());var r=t(this).parent("div.uploade-img-list").attr("sr-no");t.ajax({url:root_url+"/customer/delUploadedImage",data:{srno:r},type:"POST",async:!0,success:function(e){}})},escapeHtml:function(e){return e.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;")},submitWishlistCommentSuccess:function(e,r){if(e=parseInt(e),isNaN(e)||1!==e)alert(s.processError);else{var i=r.comments.length>50?r.comments.slice(0,50):r.comments,a=r.comments.length>50?"<a href='javascript:;' class='ma-comment-readmore' data-modal='wishlist_comment_popup_"+r.id+"'>Read More</a>":"";t("#comment_"+r.id).html(s.escapeHtml(i)).append(a),t("#wishListCommentPopupClose").trigger("click")}},myOrdersClearSearchBox:function(){t(this).css("visibility","hidden"),t("#maSrchBtn").css("visibility","visible"),t("#order_no").val("").focus();var e=parseInt(r.getParameterByName("order_id"));isNaN(e)||0===e||(window.location=secure_url+"/customer/myorders")},chooseRating:function(){t(this).val()<="3"?(t(this).parent(".feedback-rate").siblings(".Detail-Reason").show(),t(this).parent(".feedback-rate").siblings(".thank-for-reviewDetail").hide()):(saveRating(t(this).closest("form").attr("id")),t(this).closest("form").find("input,select").attr("disabled","disabled"),t(this).parent(".feedback-rate").siblings(".Detail-Reason").hide(),t(this).parent(".feedback-rate").siblings(".thank-for-reviewDetail").show())},changeFeedbackReason:function(){t(this).parent().hide(".Detail-Reason"),t(this).parent(".Detail-Reason").siblings(".thank-for-reviewDetail").show(),t(this).val().trim().length>0&&(saveRating(t(this).closest("form").attr("id")),t(this).closest("form").find("input,select").attr("disabled","disabled"))},openRatingHtml:function(){t(this).find(".myacnt-shrfdbck").addClass("strt-fdbckstp")},closeRatingHtml:function(){t(this).find(".myacnt-shrfdbck").removeClass("strt-fdbckstp")},slideHtml:function(){t(this).parents(".fdbck-wrprmyacc").addClass("slide"),t(this).parents(".fdbck-wrprmyacc").remove()},save_rating:function(){if(!t(this).hasClass("myacc-fdbcksbmt-btn")){var e=t(this).closest(".myacc-fdbckcntnt"),i=parseInt(t(this).closest(".myacnt-shrfdbck").find(".fdbck-scrn-no").text());i++,t(this).closest(".myacnt-shrfdbck").find(".fdbck-scrn-no").html(i),t(e).addClass("slide")}var a=t(this),o=a.attr("value"),n=a.attr("order_id"),l=a.attr("item_id"),d=a.attr("rating_type"),c="";if("comment"==d){var m=t("#feedback_text_"+n+"_"+l);""==(c=m.val().trim())?m.next(".myacc-errmsg").addClass("show"):(t(this).closest(".fdbck-wrprmyacc").addClass("slide"),t(this).closest(".fdbck-wrprmyacc").remove())}var p=secure_url+"/customer/save_rating";r.makeRequest(p,"POST",{rating:o,comment:s.escapeHtml(c),order_id:n,item_id:l,rating_type:d},function(e,r){"2"==t.parseJSON(e).status&&window.location.reload()},PF.ERROR.raiseError,"",{})}};e.MYACCOUNT=s}(PF,$),$(document).ready(function(){PF.MYACCOUNT.init()})),function(e,t){var r=e.UTILITIES,s={listenOnClass:{click:{action_buy_now_wardrobe:"PF.W_VIP.buyNow","add-to-wishlist":"PF.W_VIP.wishList",print_your_design:"PF.W_VIP.printDesign","vip-share-fb":"PF.W_VIP.fbShare","vip-share-twitter":"PF.W_VIP.twitterShare","vip-share-insta":"PF.W_VIP.pinterestShare","customize-wardrobe-new-design":"PF.W_VIP.loadNewDesign",details_header_tab:"PF.W_VIP.detailsTab"}},init:function(){for(var e in this.listenOnClass)if(this.listenOnClass.hasOwnProperty(e)){var r=this.listenOnClass[e];for(var s in r)r.hasOwnProperty(s)&&PF.UTILITIES.addListener(t("."+s),e,r[s])}},buyNow:function(e){if(e.preventDefault(),e.stopImmediatePropagation(),!t(".third_wardrobe").hasClass("inactive")){var i=parseInt(t("#quantity").val()),a=t("#product_id").val(),o=t("#cat_crum").val();if(void 0===i||isNaN(i)||0==i)return t(".vip-config-sizes-wrap ").addClass("vip-config-sizes-error"),t(".vip-configurable .error-text").show(),!1;t(".vip-config-sizes-wrap ").removeClass("vip-config-sizes-error"),t(".vip-configurable .error-text").hide(),t(this).find("a").addClass("loading"),o=t("#cat_crum").val(),PF.W_VIP.addEventTracker("Buy Now",itemData.name+"|"+itemData.price),r.pushToDataLayer({category:"VIP",action:"Click",label:"Menu Buy Now",opt:!0,event:"legacyevent"}),r.addToCart(a,i,s.buy_imm,"",o,1,1)}},buy_imm:function(){r.setLocation(root_url+"/checkout/cart")},wishList:function(){t(this).toggleClass("selected"),PF.W_VIP.addEventTracker("Add to Wishlist",itemData.name);var e=t("#product_id").val();t(this).hasClass("active-wishlist")?(r.removeFromWishlist(e,"","vip",1),t(this).removeClass("active-wishlist"),t(this).children(".font-13").text("Add to wishlist")):(r.addToWishlist(e,"",1),t(this).addClass("active-wishlist"),t(this).children(".font-13").text("In Your Wishlist"))},printDesign:function(){PF.W_VIP.addEventTracker("Print Your Design",itemData.name)},fbShare:function(){PF.W_VIP.addEventTracker("Share","Facebook|"+itemData.name)},twitterShare:function(){PF.W_VIP.addEventTracker("Share","Twitter|"+itemData.name)},pinterestShare:function(){PF.W_VIP.addEventTracker("Share","Pinterest|"+itemData.name)},loadNewDesign:function(){PF.W_VIP.addEventTracker("New Design",itemData.name)},detailsTab:function(){var e=t(this).attr("data-ref"),r="Overview";"vip_details"==e?r="Details":"vip_faq_tab"==e?r="FAQS":"furniture_care_tab"==e?r="Care":"t_and_c_tab"==e&&(r="Terms"),PF.W_VIP.addEventTracker("Right Box",r)},addEventTracker:function(e,t){r.pushToDataLayer({category:"Customized Wardrobe",action:e,label:t,event:"event Customized Wardrobe"})}};e.W_VIP=s}(PF=PF||{},$),$(document).ready(function(){PF.W_VIP.init(),$(".acc_header").click(function(){$(this).hasClass("active")?($(this).removeClass("active"),$(".acc_body").slideUp(300)):($(".acc_header").removeClass("active"),$(this).addClass("active"),$(".acc_body").slideUp(300),$(this).siblings(".acc_body").slideDown(300,function(){}))})})(function(e,t,r,s){"use strict";var i=e.fn.twbsPagination,a=function(r,s){if(this.$element=e(r),this.options=e.extend({},e.fn.twbsPagination.defaults,s),this.options.startPage<1||this.options.startPage>this.options.totalPages)throw new Error("Start page option is incorrect");if(this.options.totalPages=parseInt(this.options.totalPages),isNaN(this.options.totalPages))throw new Error("Total pages option is not correct!");if(this.options.visiblePages=parseInt(this.options.visiblePages),isNaN(this.options.visiblePages))throw new Error("Visible pages option is not correct!");if(this.options.totalPages<this.options.visiblePages&&(this.options.visiblePages=this.options.totalPages),this.options.onPageClick instanceof Function&&this.$element.first().on("page",this.options.onPageClick),this.options.href){var i,a=this.options.href.replace(/[-\/\\^$*+?.|[\]]/g,"\\$&");a=a.replace(this.options.pageVariable,"(\\d+)"),null!=(i=new RegExp(a,"i").exec(t.location.href))&&(this.options.startPage=parseInt(i[1],10))}var o="function"==typeof this.$element.prop?this.$element.prop("tagName"):this.$element.attr("tagName");return this.$listContainer="UL"===o?this.$element:e("<ul></ul>"),this.$listContainer.addClass(this.options.paginationClass),"UL"!==o&&this.$element.append(this.$listContainer),this.options.initiateStartPageClick?this.show(this.options.startPage):(this.render(this.getPages(this.options.startPage)),this.setupEvents()),this};a.prototype={constructor:a,destroy:function(){return this.$element.empty(),this.$element.removeData("twbs-pagination"),this.$element.off("page"),this},show:function(e){if(e<1||e>this.options.totalPages)throw new Error("Page is incorrect.");return this.render(this.getPages(e)),this.setupEvents(),this.$element.trigger("page",e),this},buildListItems:function(e){var t=[];if(this.options.first&&t.push(this.buildItem("first",1)),this.options.prev){var r=e.currentPage>1?e.currentPage-1:this.options.loop?this.options.totalPages:1;t.push(this.buildItem("prev",r))}for(var s=0;s<e.numeric.length;s++)t.push(this.buildItem("page",e.numeric[s]));if(this.options.next){var i=e.currentPage<this.options.totalPages?e.currentPage+1:this.options.loop?1:this.options.totalPages;t.push(this.buildItem("next",i))}return this.options.last&&t.push(this.buildItem("last",this.options.totalPages)),t},buildItem:function(t,r){var s=e("<li></li>"),i=e("<a></a>"),a=null;return a=this.options[t]?this.makeText(this.options[t],r):r,s.addClass(this.options[t+"Class"]),s.data("page",r),s.data("page-type",t),s.append(i.attr("href",this.makeHref(r)).html(a)),s},getPages:function(e){var t=[],r=Math.floor(this.options.visiblePages/2),s=e-r+1-this.options.visiblePages%2,i=e+r;s<=0&&(s=1,i=this.options.visiblePages),i>this.options.totalPages&&(s=this.options.totalPages-this.options.visiblePages+1,i=this.options.totalPages);for(var a=s;a<=i;)t.push(a),a++;return{currentPage:e,numeric:t}},render:function(t){var r=this;this.$listContainer.children().remove();var s=this.buildListItems(t);jQuery.each(s,function(e,t){r.$listContainer.append(t)}),this.$listContainer.children().each(function(){var s=e(this);switch(s.data("page-type")){case"page":s.data("page")===t.currentPage&&s.addClass(r.options.activeClass);break;case"first":s.toggleClass(r.options.disabledClass,1===t.currentPage);break;case"last":s.toggleClass(r.options.disabledClass,t.currentPage===r.options.totalPages);break;case"prev":s.toggleClass(r.options.disabledClass,!r.options.loop&&1===t.currentPage);break;case"next":s.toggleClass(r.options.disabledClass,!r.options.loop&&t.currentPage===r.options.totalPages)}})},setupEvents:function(){var t=this;this.$listContainer.find("li").each(function(){var r=e(this);r.off(),r.hasClass(t.options.disabledClass)||r.hasClass(t.options.activeClass)?r.on("click",!1):r.click(function(e){!t.options.href&&e.preventDefault(),t.show(parseInt(r.data("page")))})})},makeHref:function(e){return this.options.href?this.makeText(this.options.href,e):"#"},makeText:function(e,t){return e.replace(this.options.pageVariable,t).replace(this.options.totalPagesVariable,this.options.totalPages)}},e.fn.twbsPagination=function(t){var r,i=Array.prototype.slice.call(arguments,1),o=e(this),n=o.data("twbs-pagination"),l="object"==typeof t?t:{};return n||o.data("twbs-pagination",n=new a(this,l)),"string"==typeof t&&(r=n[t].apply(n,i)),r===s?o:r},e.fn.twbsPagination.defaults={totalPages:1,startPage:1,visiblePages:5,initiateStartPageClick:!0,href:!1,pageVariable:"{{page}}",totalPagesVariable:"{{total_pages}}",page:null,first:"First",prev:"Previous",next:"Next",last:"Last",loop:!1,onPageClick:null,paginationClass:"pagination",nextClass:"next",prevClass:"prev",lastClass:"last",firstClass:"first",pageClass:"page",activeClass:"active",disabledClass:"disabled"},e.fn.twbsPagination.Constructor=a,e.fn.twbsPagination.noConflict=function(){return e.fn.twbsPagination=i,this}})(window.jQuery,window,document);
//# sourceMappingURL=myaccount.min.js.map