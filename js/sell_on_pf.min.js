"use strict";function deleteInvoiceFile(invoice){$.post(root_url+"/merchant/deleteinvoicepdf/"+invoice)}function setSelected(id){$("#"+id).is(":checked")?$("#"+id+"_label").addClass("selected"):$("#"+id+"_label").removeClass("selected")}function numeric(evt){var charCode=evt.which?evt.which:event.keyCode;return 8==charCode||43==charCode||13==charCode||charCode>=48&&charCode<=57}function validateEmail(email){return!!/^([\w-\.]+@([\w-]+\.)+[\w-]{2,4})?$/.test(email)}function quick_view(id,term){$.ajaxSetup({cache:!0}),id>0&&$.ajax({url:root_url+"/merchant/livelistings/",success:function(data){$("#quick_view").show(),$(".quick_look").html(data)},cache:!0,error:function(xhr,error){$("#quick_view").show(),$(".quick_look").html("Please Try Later")}})}function scan(obj){var k;if(obj instanceof Object)for(k in obj)obj.hasOwnProperty(k)&&(k instanceof String&&(body+="scanning property "+k+"<br /> "),scan(obj[k]));else body+=" "+obj+"<br/>"}function toggleCustomer(type){$("#table-customer-information :input").each(function(){$(this).attr("disabled",type),$(this).removeClass("error-border"),!1===type?$(this).addClass("required"):$(this).removeClass("required")})}function empty(mixed_var){var key,i,len,emptyValues=[void 0,null,!1,""];for(i=0,len=emptyValues.length;i<len;i++)if(mixed_var===emptyValues[i])return!0;if("object"==typeof mixed_var){for(key in mixed_var)return!1;return!0}return!1}function showSelectedrecords(val){if($("#selectedMsg").hide(),val>0){if(1==val){order_item_id=0;$(".order_item:checked").each(function(){order_item_id+=1}),order_item_id>0&&($("#countSel").text(order_item_id),$("#selectedMsg").show())}if(3==val){var order_item_id=0;$(".order_item:checked").each(function(){order_item_id+=1}),order_item_id>0&&($("#countSel").text("All"),$("#selectedMsg").show())}}}function showother(){"Other"==document.getElementById("state").value?($("#other_show").css("display",""),$("#other").addClass("required")):($("#other_show").css("display","none"),$("#other").removeClass("required"),$("#other").removeClass("error-border"),$("#pincode").removeClass("required"),$("#pincode").removeClass("error-border"),document.getElementById("other").value="")}function showhidecourier(){1==document.getElementById("dropship").value?($(".checkdropship").css("display",""),$("#list_of_courier").addClass("required"),$("#pod_acceptance").addClass("required")):($(".checkdropship").css("display","none"),$("#list_of_courier").removeClass("required"),$("#pod_acceptance").removeClass("required"),document.getElementById("pod_acceptance").value="",document.getElementById("list_of_courier").value="")}var PF=PF||{};void 0===PF.UTILITIES&&function(){window.root_url="undefined"==typeof root_url?"http://"+window.location.hostname:root_url,window.secure_url="undefined"==typeof secure_url?"https://"+window.location.hostname:secure_url;var _node=document.createElement("script");_node.type="text/javascript",_node.src=("http:"===window.location.protocol?root_url:secure_url)+"/js/utilities.js",document.getElementsByTagName("head")[0].appendChild(_node)}(),void 0===PF.MYACCOUNT&&(!function(z,$){var utils=z.UTILITIES,o={d:$(document),w:$(window),processError:"An error has occurred. Please refresh the page and try again.",formErrorHtml:'<div class="error-text">{{ERROR}}</div>',lastEnteredPin:"",formErrorMsg:{file_error:{file:"Please select a file",file_extension:"Please select a valid file",file_size:"Max 5Mb allowed!",file_noselect_flag:!0,file_size_error:!0}},dashboard:{click:{".tab-inner-content a.track-item-link":["PF.MYACCOUNT.trackOrder","#page"],".return-order-submit":["PF.MYACCOUNT.submitReturnFrom","#page"],".add-more-file":["PF.MYACCOUNT.callUploadFile","#page"],".remove-file":["PF.MYACCOUNT.removeUploadedFile","#page"],"return-popup-show":["PF.MYACCOUNT.resetReturnItemPopup","#page"],".fdbck-wrprmyacc.ratable .feedback-rate input,.myacc-fdbcksbmt-btn":"PF.MYACCOUNT.save_rating",".myacc-fdbcksbmt-btnwrpr .myacc-fdbckskip-btn":"PF.MYACCOUNT.slideHtml"},change:{".rpImage":["PF.MYACCOUNT.uploadFileOnSelect","#page"]},mouseenter:{".myacnt-shrfdbck-container":"PF.MYACCOUNT.openRatingHtml"},mouseleave:{".myacnt-shrfdbck-container":"PF.MYACCOUNT.closeRatingHtml"}},orders:{click:{".tab-inner-content a.track-item-link":["PF.MYACCOUNT.trackOrder","#page"],".return-order-submit":["PF.MYACCOUNT.submitReturnFrom","#page"],".remove-file":["PF.MYACCOUNT.removeUploadedFile","#page"],".add-more-file":["PF.MYACCOUNT.callUploadFile","#page"],"return-popup-show":["PF.MYACCOUNT.resetReturnItemPopup","#page"],"#clear_order_search_box":"PF.MYACCOUNT.myOrdersClearSearchBox",".fdbck-wrprmyacc.ratable .feedback-rate input,.myacc-fdbcksbmt-btn":"PF.MYACCOUNT.save_rating",".myacc-fdbcksbmt-btnwrpr .myacc-fdbckskip-btn":"PF.MYACCOUNT.slideHtml"},change:{"#maOrderselect2":["PF.MYACCOUNT.myOrdersMonthFilter","#page"],".rpImage":["PF.MYACCOUNT.uploadFileOnSelect","#page"]},keyup:{"#order_no":["PF.MYACCOUNT.myOrdersSearchByOrderNo","#page"]},mouseenter:{".myacnt-shrfdbck-container":"PF.MYACCOUNT.openRatingHtml"},mouseleave:{".myacnt-shrfdbck-container":"PF.MYACCOUNT.closeRatingHtml"}},wishlist:{click:{"#wishlistTab a.remove-wishlist-item":["PF.MYACCOUNT.removeFromWishlist","#page"],"#wishlistTab #popup_login_form":["PF.MYACCOUNT.submitWishlistComment","#page"]}},account:{click:{".my-profile-container .editBtn":["PF.MYACCOUNT.editInputBoxes","#page"],"#save-basic-profile":["PF.MYACCOUNT.updateProfile","#page"],"#saveChangePassword":["PF.MYACCOUNT.updatePassword","#page"]},change:{"input[name='gender']":["PF.MYACCOUNT.verifyGender","#page"]}},addressBook:{click:{"#maEnterYourNewAdd #saveAddress":["PF.MYACCOUNT.saveAddress","#page"],".address_delete":["PF.MYACCOUNT.deleteAddress","#page"],".address_edit,.add-new-address":["PF.MYACCOUNT.editAddressModal","#page"]},change:{"#maEnterYourNewAdd .ck-state-select":["PF.MYACCOUNT.verifyState","#page"],"#maEnterYourNewAdd .ck-country-select":["PF.MYACCOUNT.verifyCountry","#page"],".ma-address-tab input.radio_select":["PF.MYACCOUNT.setDefaultAddress","#page"]},submit:{},keyup:{"#postcode":["PF.MYACCOUNT.pinAutoComplete","#page"]}},returnItem:{click:{".return-order-submit":["PF.MYACCOUNT.submitReturnFrom","#page"],".remove-file":["PF.MYACCOUNT.removeUploadedFile","#page"],".add-more-file":["PF.MYACCOUNT.callUploadFile","#page"],"return-popup-show":["PF.MYACCOUNT.resetReturnItemPopup","#page"],".view-more-return-orders":["PF.MYACCOUNT.loadOrders","#page"]},change:{".rpImage":["PF.MYACCOUNT.uploadFileOnSelect","#page"]}},returnItemLogin:{click:{}},dedicatedNotification:{click:{".feedback-rate input":["PF.MYACCOUNT.chooseRating","#page"]},change:{".rating-reason":["PF.MYACCOUNT.changeFeedbackReason","#page"]}},init:function(){if(o.oneTimeLoad=!0,o.addressBookLoad=!1,o.maxFilesToUpload=3,$(".rating-reason").length>0&&$(".rating-reason").select2({minimumResultsForSearch:1/0}),$("#maOrderselect2").select2({minimumResultsForSearch:-1}),$("#maInitiateReturnselect2").select2({minimumResultsForSearch:-1}),$("#selectCountry").select2(),$("#selectState").select2(),$("#selectCountry2").select2(),$("#selectState2").select2(),-1!==window.location.pathname.indexOf("customer/dashboard"))utils.listen(o.dashboard);else if(-1!==window.location.pathname.indexOf("customer/myorders")){utils.listen(o.orders);var currentPeriod=parseInt(utils.getParameterByName("period"));isNaN(currentPeriod)||$("#viewOrderTab div.month-filter-wrap select option").filter(function(){return parseInt($(this).val())===currentPeriod}).prop("selected",!0)}else-1!==window.location.pathname.indexOf("customer/wishlist")?utils.listen(o.wishlist):-1!==window.location.pathname.indexOf("customer/account")?utils.listen(o.account):-1!==window.location.pathname.indexOf("customer/address_book")?utils.listen(o.addressBook):-1!==window.location.pathname.indexOf("customer/returnitem")?utils.listen(o.returnItem):-1!==window.location.pathname.indexOf("customer/initiatereturnlogin")?utils.listen(o.returnItemLogin):-1!==window.location.pathname.indexOf("customer/dedicatedNotification")&&utils.listen(o.dedicatedNotification);XMLHttpRequest.prototype.sendAsBinary||(XMLHttpRequest.prototype.sendAsBinary=function(datastr){var ords=Array.prototype.map.call(datastr,function(x){return 255&x.charCodeAt(0)}),ui8a=new Uint8Array(ords);try{this.send(ui8a)}catch(e){this.send(ui8a.buffer)}})},pinAutoComplete:function(){var pin=parseInt($(this).val());if(6===pin.toString().length&&pin>0&&o.lastEnteredPin!==pin){o.lastEnteredPin=pin;var country=$("#selectCountry").val(),_url=secure_url+"/config_pincode/getpindata";"IN"===country&&utils.makeRequest(_url,"POST",{pincode:pin},o.pinAutoCompleteResponse,PF.ERROR.raiseError,"",{},{dataType:"json"})}},pinAutoCompleteResponse:function(d){d?(void 0!==(d=$.parseJSON(d)).city&&d.city.length>1?$("#city").val(d.city).parent().addClass("input-filled"):$("#city").val("").parent().removeClass("input-filled"),void 0!==d.state&&d.state.length>1&&$('#selectState option[value="'+d.state+'"]').length>0?$("#selectState").val(d.state).select2().removeClass("disabled"):$("#selectState").select2("val",$("#region option:first").val())):($("#form-area .ui-autocomplete,#form-area .ui-helper-hidden-accessible").remove(),$("#city").val("").removeClass("input-filled"),$("#selectState").val("").select2().removeClass("disabled"))},verifyState:function(){var frmId=$(".ck-state-select").closest("form").attr("id");if(!0===o.addressBookLoad)return!0;if("block"==$(".ck-state-select").parent("div").css("display"))""===(stateIpVal=(stateIp=$("#"+frmId).find(".ck-state-select")).val())?stateIp.addClass("error-inpt").parent("div").addClass("frm-error-wrap").removeClass("frm-success-wrap"):stateIp.removeClass("error-inpt").parent("div").removeClass("frm-error-wrap").addClass("frm-success-wrap");else{var stateIp=$("#"+frmId).find(".ck-state-input"),stateIpVal=stateIp.val();""===stateIpVal?stateIp.parent("div").addClass("frm-error-wrap").removeClass("frm-success-wrap"):stateIp.parent("div").removeClass("frm-error-wrap").addClass("frm-success-wrap")}},saveAddress:function(){var $this=$("#maEnterYourNewAdd"),error=!1,country=(parseInt($("#maEnterYourNewAdd #postcode").val()),$("#maEnterYourNewAdd #city").val().trim(),$("#maEnterYourNewAdd #selectCountry").val().trim()),state="";if(state="block"==$(".ck-state-select").parent("div").css("display")?$.trim($(".ck-state-select").val()):$.trim($(".ck-state-input").val()),"IN"===country||""===country){var pincodeval=$("#postcode").val().trim(),pincodelen=pincodeval.length;$("#postcode").parent("div").removeClass("frm-error-wrap").removeClass("frm-success-wrap"),""==pincodeval?($("#postcode").parent("div").addClass("frm-error-wrap").removeClass("frm-success-wrap"),error=!0):6!=pincodelen?($("#postcode").parent("div").removeClass("frm-success-wrap1").addClass("frm-error-wrap"),error=!0):isNaN(pincodeval)?($("#postcode").parent("div").addClass("frm-error-wrap").removeClass("frm-success-wrap"),error=!0):$("#postcode").parent("div").removeClass("frm-error-wrap").addClass("frm-success-wrap")}0==error&&(error=PF.HEADER.validateForm("","maEnterYourNewAdd"));var alphaOnly=/^[A-Za-z ]+$/;if(0!=error||""!==state&&state.match(alphaOnly)?"block"==$(".form-select").parent("div").css("display")?$(".ck-state-input").parent("div").removeClass("frm-error-wrap").removeClass("frm-success-wrap"):$(".form-state-select").parent("div").removeClass("frm-error-wrap").removeClass("frm-success-wrap"):("block"==$(".form-select").css("display")?$(".ck-state-input").parent("div").addClass("frm-error-wrap").removeClass("frm-success-wrap"):$(".form-state-select").parent("div").addClass("frm-error-wrap").removeClass("frm-success-wrap"),error=!0),!error){var _url=secure_url+"/address/addEditAddress/",_data=$this.serialize();$.ajax({url:_url,data:_data,type:"POST",beforeSend:function(){$("#saveAddress").attr("disabled","disabled").addClass("btn_loader")},success:function(response){if('"invalid"'==response)alert(o.processError);else{var _path=secure_url+"/customer/address_book";window.location=_path}},error:function(){alert("Some error occured")},complete:function(msg){$("#saveAddress").removeAttr("disabled").removeClass("btn_loader")}})}return!1},verifyCountry:function(){var frmId=$(".ck-country-select").closest("form").attr("id"),countryIp=$("#"+frmId).find(".ck-country-select"),countryIpVal=countryIp.val();$("#"+frmId).find(".ck-state-input").val(""),$("#"+frmId).find(".ck-state-select").val("").change(),"IN"!=countryIpVal?($(".ck-state-input").parent("div").css("display","block"),$(".ck-state-select").parent("div").css("display","none").attr("disabled"),$(".ck-state-input").removeAttr("disabled"),$(".ck-state-select").attr("disabled","true")):($(".ck-state-input").parent("div").css("display","none").attr("disabled"),$(".ck-state-select").parent("div").css("display","block").removeAttr("disabled"),$(".ck-state-input").attr("disabled","true"),$(".ck-state-select").removeAttr("disabled")),""===countryIpVal?countryIp.addClass("error-inpt").parent("div").addClass("frm-error-wrap").removeClass("frm-success-wrap"):countryIp.removeClass("error-inpt").parent("div").removeClass("frm-error-wrap").addClass("frm-success-wrap")},setDefaultAddress:function(e){$("input[name=address_select]").prop("checked",!1);var _url=secure_url+"/address/makeDefault/"+this.value;utils.makeRequest(_url,"GET",{},function(d,e){$("#addressBook_"+e.id).prop("checked",!0)},PF.ERROR.raiseError,"",{id:this.value})},deleteAddress:function(e){if(confirm("Do you want to delete this address?")){var id=$(this).attr("value"),_url=secure_url+"/address/deleteAddress";utils.makeRequest(_url,"POST",{address_id:id},function(d,e){$("#address-"+e.id).remove(),$("label.ship-address-main").each(function(i){var j=i+1;$(this).find("div:first").html("Address "+j)});var addressCnt=$(".ship-address-row").size();0===addressCnt&&$("#editAddressBlock").addClass("no-address"),addressCnt<10&&$("#editAddressBlock").show()},PF.ERROR.raiseError,"",{id:id})}},editAddressModal:function(e){var _modal=$(this).attr("modal-val");$(this).attr("data-modal",_modal),$("#my-addr-book-newaddr-popup").attr("data-modalname",_modal).find(".pf-semi-bold-text").html("Edit Address");var id=$(this).attr("data-id");$("#update_id").val(id),$("#maEnterYourNewAdd #name").val($.trim($("#fname-"+id).val())),$("#maEnterYourNewAdd #name2").val($.trim($("#lname-"+id).val())),$("#maEnterYourNewAdd #mobile").val($.trim($("#mobile-"+id).val())),$("#maEnterYourNewAdd #street").val($.trim($("#street-"+id).val())),$("#maEnterYourNewAdd #area").val($.trim($("#street1-"+id).val())),$("#maEnterYourNewAdd #landmark").val($.trim($("#landmark-"+id).val())),$("#maEnterYourNewAdd #city").val($.trim($("#city-"+id).val()));var state=$.trim($("#state-"+id).val())?$.trim($("#state-"+id).val()):"",countryName=""!=$("#countryid-"+id).val()&&"IN"!=$("#countryid-"+id).val()?$("#countryid-"+id).val():"IN";!1===$(this).hasClass("address_edit")&&($("#my-addr-book-newaddr-popup").find("h5").html("Enter a New Address"),o.addressBookLoad=!0,$("#selectCountry").val("IN").change()),$(this).hasClass("address_edit")&&$("#selectCountry").val(countryName).change(),$("#form-contry").removeClass("frm-error-wrap").removeClass("frm-success-wrap"),o.addressBookLoad=!1,"IN"===$.trim($("#countryid-"+id).val())||""===$.trim($("#countryid-"+id).val())?($("#form-state-select").css("display","block"),$("#form-state").css("display","none"),"add-address"!=_modal&&($("#maEnterYourNewAdd #selectState").val(state).change(),$("#form-state-select").removeClass("frm-error-wrap").removeClass("frm-success-wrap")),$("#selectState").removeAttr("disabled"),$("#state_input").val(state).attr("disabled","disabled")):("add-address"!=_modal&&$("#form-state").removeClass("frm-error-wrap").removeClass("frm-success-wrap"),$("#selectState").attr("disabled","disabled"),$("#state_input").val(state).removeAttr("disabled"),$("#form-state-select").css("display","none"),$("#form-state").css("display","block")),$("#maEnterYourNewAdd #postcode").val($.trim($("#postcode-"+id).val())),$("#maEnterYourNewAdd #country").val($.trim($("#countryid-"+id).val())).select2(),$("#popup_overlay").fadeIn(function(){$("[data-modalname="+_modal+"]").fadeIn(),$("body").addClass("active")}),$(document).on("click",".popup-close,.popup_overlay",function(e){$("[data-modalname="+_modal+"]").fadeOut(function(){$("#my-addr-book-newaddr-popup").attr("data-modalname","add-address").find("h5").html("Enter a New Address"),$("#popup_overlay").fadeOut(),$("body").removeClass("active")}),e.preventDefault()}),$(document).keyup(function(e){27===e.keyCode&&$("[data-modalname="+_modal+"]").fadeOut(function(){$("#my-addr-book-newaddr-popup").attr("data-modalname","add-address").find("h5").html("Enter a New Address"),$("#popup_overlay").fadeOut(),$("body").removeClass("active")})})},editInputBoxes:function(e){$(this).hide().siblings(".inpt").focus().removeClass("disabled"),$(this).parents(".edit-info-sec").find(".pf-btn").removeClass("disabled").addClass("pf-hover-primary-color")},updateProfile:function(e){!1===PF.HEADER.validateForm("","maEditAddress")&&$("#maEditAddress").submit()},verifyGender:function(){$("#save-basic-profile").removeClass("disabled").addClass("pf-hover-primary-color")},updatePassword:function(e){$("#maresetPass");PF.HEADER.validateForm("","maresetPass")||$("#maresetPass").submit()},removeFromWishlist:function(){var id=$(this).attr("data-id"),type=$(this).attr("data-type");if(!1===confirm("Do you want to remove this item from wishlist ?"))return!1;"bundle"==type?utils.removeFromWishlist(id,o.removeFromWishlistHandler,"",1):"look"==type?utils.removeFromWishlist(id,o.removeFromWishlistHandler,"",void 0,1):utils.removeFromWishlist(id,o.removeFromWishlistHandler)},removeFromWishlistHandler:function(d){d=parseInt(d),isNaN(d)||1!==d?alert(o.processError):window.location.reload()},submitWishlistComment:function(e){var id=$(this).closest("form").attr("data-id"),type=$(this).closest("form").attr("data-type"),$textarea=$("#wishlist_form-"+id).find("textarea"),formId="wishlist_form-"+id,validation=PF.HEADER.validateForm("",formId),comments=$.trim(o.escapeHtml($textarea.val()));if(!validation){if($textarea.html(comments),"bundle"==type)_url=secure_url+"/site_wardrobe/addComments";else if("look"==type)_url=secure_url+"/look/addComments";else var _url=secure_url+"/customer_wishlist/addComments";utils.makeRequest(_url,"POST",{comments:comments,item_id:id},o.submitWishlistCommentSuccess,PF.ERROR.raiseError,"",{id:id,comments:comments})}return!1},myOrdersSearchByOrderNo:function(){var $this=$(this),val=$.trim($this.val());isNaN(val)?$this.val(""):$this.parent().find("#clear_order_search_box").css("visibility",function(){return""!==val?$("#maSrchBtn").css("visibility","hidden"):$("#maSrchBtn").css("visibility","visible"),""!==val?"visible":"hidden"})},myOrdersMonthFilter:function(){var period=this.options[this.selectedIndex].value;window.location=isNaN(period)||0===period?secure_url+"/customer/myorders":secure_url+"/customer/myorders?period="+period},trackOrder:function(){var $this=$(this);if("disabled"!==$this.attr("disabled")){$this.attr("disabled","disabled");var id=$this.attr("data-id"),pid=$this.attr("data-pid"),_url=secure_url+"/customer_trackOrder/trackItem/"+id+"/"+pid+"/myorders";$(".tyo_popup_box").remove();var _container=$("#viewOrderTab").length>0?"#viewOrderTab":"#accountDashboardTab";utils.makeRequest(_url,"GET",{},function(d,e){$(".tyo_popup_box").remove(),$("#deliveryStatus").html(d),$this.removeAttr("disabled")},PF.ERROR.raiseError,function(){},{id:id,container:_container})}},submitReturnFrom:function(e){var currentItemId=$(this).attr("itemid");e.preventDefault();var is_valid=!0,$this=$(this),page_type=$this.attr("form-type"),reason=$("#reason_select_"+$this.attr("itemid")).val();$("#ws_comments_"+$this.attr("itemid")).val();currentItemId=$("#return-item-form-"+currentItemId+" .currentItemId").val();var fileSize=0,file="",file_extension="";if($(".file-uploaded-wrap .uploade-img-list").length>0&&(file_extension=(file=$(".file-uploaded-wrap .uploade-img-list:first").find("p").text()).split(".").pop().toLowerCase(),fileSize=parseInt($(".file-uploaded-wrap .uploade-img-list:first").attr("fsize"))),$("#return-item-form-"+currentItemId+" .invalid_file2").css({display:"none",color:"#969696"}),$("#return-item-form-"+currentItemId+" #invalid_file").html("Choose File .jpg, .jpeg, .png, .bmp Only. Max Size 5 Mb").css({color:"#969696"}),$this.find("#return-item-form-"+currentItemId+" .error-msg").css("display","none"),""==reason?($("#reason-wrap-"+$this.attr("itemid")).find(".error-msg").css("display","block"),is_valid=!1):$("#reason-wrap-"+$this.attr("itemid")).find(".error-msg").css("display","none"),""===file&&!0===is_valid&&"Incomplete items or contents missing"!=reason?($("#return-item-form-"+currentItemId+" .invalid_file2").css({display:"block",color:"#d0021b"}),is_valid=!1):$("#return-item-form-"+currentItemId+" .invalid_file2").css({display:"none",color:"#969696"}),""===file_extension&&!0===is_valid&&"Incomplete items or contents missing"!=reason?($("#return-item-form-"+currentItemId+" #invalid_file").css("color","#d0021b"),is_valid=!1):-1===$.inArray(file_extension,["doc","docx","jpg","jpeg","bmp","png"])&&!0===is_valid&&"Incomplete items or contents missing"!=reason?($("#return-item-form-"+currentItemId+" #invalid_file").css("color","#d0021b"),is_valid=!1):$("#return-item-form-"+currentItemId+" #invalid_file").css("color","#969696"),!0===is_valid&&(0==fileSize||fileSize>5247880)&&"Incomplete items or contents missing"!=reason?($("#return-item-form-"+currentItemId+" #invalid_file").css("color","#d0021b"),is_valid=!1):$("#return-item-form-"+currentItemId+" #invalid_file").css("color","#969696"),is_valid&&(is_valid=!PF.HEADER.validateForm("","return-item-form-"+currentItemId)),is_valid){$this.attr("disabled","disabled").addClass("btn-blue btn-loader");var formData=$("#return-item-form-"+$this.attr("itemid")).serialize();o.callBack(formData,$this,page_type)}},callBack:function(formData,t,page_type){var $this=t,_url=secure_url+"/customer/return_request",_ajaxSetUpOptions={processData:!1,cache:!1};utils.makeRequest(_url,"POST",formData,function(d){var return_data=$.parseJSON(d);if(1==return_data.status)1==page_type?($("#returnItemModal-"+$this.attr("itemid")).removeAttr("data-modal").attr("href","javascript:void(0);").css("cursor","default").addClass("disabled-tt").text("Return Initiated").attr("data-tooltip","Return Already initiated"),$(".popup-close").click(),$this.removeAttr("disabled").removeClass("btn-blue btn-loader")):($("#return-reason-form-"+$this.attr("itemid")).hide(),$("#return-form-success-message-"+$this.attr("itemid")).show());else{if($this.removeAttr("disabled").removeClass("btn-blue btn-loader"),2==return_data.status){$("div.error-text").remove();var errorHtml,file_warp=$("#file-wrap-"+$this.attr("itemid"));errorHtml="Upload error!!, Please select a file again"===return_data.error.upload_error?o.formErrorHtml.replace("{{ERROR}}",return_data.error.upload_error):o.formErrorHtml.replace("{{ERROR}}",return_data.error.invalid_size),file_warp.addClass("input-error").append(errorHtml),file_warp.find("div.error-text").show()}-1==return_data.status&&alert(return_data.message)}},PF.ERROR.raiseError,"",{},_ajaxSetUpOptions)},loadOrders:function(e){e.preventDefault();var current_element=$(this),current_page=parseInt(current_element.attr("page"))+1,_url=secure_url+"/customer/loadorders";utils.makeRequest(_url,"GET",{p:current_page},function(d,e){$(".view-more-return-orders").remove(),$("#return-orders-wrap-container").append(d),$("#return_item_load_btn").attr("page",current_page)},PF.ERROR.raiseError,"",{})},callUploadFile:function(){$(this).closest("form").find(".rpImage").trigger("click")},resetReturnItemPopup:function(){$(this).closest("form").trigger("trigger"),$(this).closest("file-uploaded-wrap").html("")},uploadFileOnSelect:function(){var currentItemId=$(this).closest("form").find(".return-order-submit").attr("itemId"),currentId=parseInt($("#return-item-form-"+currentItemId+" .file-uploaded-wrap .uploade-img-list").length)+1;currentId>0?$("#return-item-form-"+currentItemId+" .file-upload-wrap").hide():$("#return-item-form-"+currentItemId+" .file-upload-wrap").show();var type=$("#filesUpload-"+currentItemId)[0].files[0].name.split(".").pop().toLowerCase(),size=$("#filesUpload-"+currentItemId)[0].files[0].size;switch(type){case"doc":case"docx":case"jpg":case"jpeg":case"png":case"bmp":if(currentId>=o.maxFilesToUpload&&$("#return-item-form-"+currentItemId+" .add-more-file").hide(),!(size<=5247880))return 1==currentId&&$(".file-upload-wrap").show(),$("#return-item-form-"+currentItemId+" #invalid_file").html("Max 5Mb allowed!").css("color","#d0021b").show(),currentId>=o.maxFilesToUpload&&$("#return-item-form-"+currentItemId+" .add-more-file").hide(),!1;if($("#return-item-form-"+currentItemId+" #invalid_file").hide(),!(currentId<=o.maxFilesToUpload))return $("#return-item-form-"+currentItemId+" .add-more-file").hide(),$("#return-item-form-"+currentItemId+" #invalid_file").html("Max 5 files are allowed!").css("color","#d0021b"),currentId>=5&&$("#return-item-form-"+currentItemId+" .add-more-file").hide(),!1;o.getDataFeedback(type,currentId,currentItemId);break;default:$(".file-upload-wrap").show(),$("#return-item-form-"+currentItemId+" #invalid_file").css("color","#d0021b"),$("#return-item-form-"+currentItemId+" .return-order-submit").removeAttr("disabled"),$("#return-item-form-"+currentItemId+" .return-order-submit").removeClass("disabled"),$("#return-item-form-"+currentItemId+" .return-order-submit").val("Return Item");var file_warp=$("#return-item-form-"+currentItemId+" #file-wrap-"+currentItemId);$("div.error-text").remove();var errorHtml=o.formErrorHtml.replace("{{ERROR}}",o.formErrorMsg.file_error.file_extension);return file_warp.addClass("input-error").append(errorHtml),file_warp.find("div.error-text").show(),!1}},getDataFeedback:function(type,currentId,formId){var currentItemId=$("#return-item-form-"+formId+" .currentItemId").val();void 0===currentId&&(currentId="");var i=1,loaded=0,total=$("#filesUpload-"+currentItemId)[0].files[0].size,name=encodeURIComponent($("#return-item-form-"+currentItemId+" #filesUpload-"+currentItemId)[0].files[0].name),randName=Math.random().toString(36).substr(2,30),fileNameWA=name.split(".")[0];name=encodeURIComponent(fileNameWA+randName+"."+type);var resFlag=1,reader=(document.getElementById("feddback_rpImage_"+currentId),new FileReader);reader.onload=function(e){var xhr=new XMLHttpRequest,upload=xhr.upload;xhr.onreadystatechange=function(){if(4==this.readyState&&200==this.status){var fileRes=xhr.responseText;if("invalid_file"===fileRes&&1===resFlag)return alert("Invalid image file!"),$("#invalid_size").html("Invalid image file!"),$("#feddback_rpImage_"+currentId).html("Choose File"),$("#return-item-form-"+formId+" .return-order-submit").removeClass("disabled"),$("#return-item-form-"+formId+" .return-order-submit").removeAttr("disabled"),$("#return-item-form-"+formId+" .return-order-submit").val("Return Item"),xhr.abort(),resFlag=0,void(loaded=100*total);if(5<i&&"image_size_exeeded"===fileRes&&1===resFlag)return alert("Image is too big! Please reduce the size of your photo using an image editor. Max 5 MB is allowed."),$("#invalid_file").html("Max 5Mb allowed!"),$("#feddback_rpImage_"+currentId).html("Choose File"),$("#return-item-form-"+formId+" .return-order-submit").removeClass("disabled"),$("#return-item-form-"+formId+" .return-order-submit").removeAttr("disabled"),$("#return-item-form-"+formId+" .return-order-submit").val("Return Item"),xhr.abort(),resFlag=0,void(loaded=100*total);if(loaded>=total){if($("#return-item-form-"+formId+" .return-order-submit").removeClass("disabled"),$("#return-item-form-"+formId+" .return-order-submit").removeAttr("disabled"),$("#return-item-form-"+formId+" .return-order-submit").val("Return Item"),resFlag){$("#return-item-form-"+currentItemId+" .rpImage").val("");var htmlStr="<div class='uploade-img-list' sr-no='"+(parseInt($("#return-item-form-"+currentItemId+" .file-uploaded-wrap .uploade-img-list").length)+1)+"' fsize='"+total+"'><p class='uploaded-img'>"+fileRes+"</p>  <a href='javascript:;' class='pf-text-brown remove-file font-12'>Remove</a> </div>";if(o.oneTimeLoad){$(".remove-file, .add-more-file").css({display:"inline-block","margin-top":"-1.5rem"});$("#return-item-form-"+currentItemId+" .file-uploaded-wrap").html(htmlStr);$(".remove-file").css({display:"inline-block","margin-top":"-1.5rem"}),o.oneTimeLoad=!1}else $("#return-item-form-"+currentItemId+" .file-uploaded-wrap .uploade-img-list").parent().append(htmlStr),$(".remove-file").css({display:"inline-block","margin-top":"-1.5rem"}),$("#return-item-form-"+currentItemId+" .uploade-img-list").length==o.maxFilesToUpload&&$("#return-item-form-"+currentItemId+".add-more-file").hide()}else $("#feddback_rpImage_"+currentId).html("Choose File");return xhr.abort(),resFlag=0,void(loaded=100*total)}}},upload.addEventListener("load",function(){var _p=(loaded+=1048576)/total*100;_p>100&&(_p=100),$("#return-item-form-"+currentItemId).find("input[type=submit]").addClass("btn-loader").attr("disabled","disabled"),loaded<=total?(blob=$("#filesUpload-"+currentItemId)[0].files[0].slice(loaded,loaded+1048576),reader.readAsBinaryString(blob,o.log)):(loaded=total,$("#return-item-form-"+currentItemId).find("input[type=submit]").removeClass("btn-loader").removeAttr("disabled"))},!1),resFlag&&(xhr.open("POST",root_url+"/customer/feedbackFileUpload?fileName="+name+"&fileType="+type+"&fileSize="+total+"&nocache="+(new Date).getTime()+"&totalRequest=5&currentId="+currentId+"&count="+i++),xhr.overrideMimeType("application/octet-stream"),xhr.sendAsBinary(e.target.result))};var blob=$("#filesUpload-"+currentItemId)[0].files[0].slice(0,1048576);reader.readAsBinaryString(blob,o.log)},removeUploadedFile:function(){var wrapLength=$(this).parent(".uploade-img-list").parent(".file-uploaded-wrap").find(".uploade-img-list").length;$(this).parents(".uploade-img-list").remove(),$(".rpImage").val(""),$(".rpImage").parent("div").find("label").text("Choose file"),1==wrapLength?(o.oneTimeLoad=!0,$(".file-upload-wrap").show(),$(".add-more-file").hide()):($(".file-upload-wraped").hide(),$(".add-more-file").show());var srno=$(this).parent("div.uploade-img-list").attr("sr-no");$.ajax({url:root_url+"/customer/delUploadedImage",data:{srno:srno},type:"POST",async:!0,success:function(data){}})},escapeHtml:function(unsafe){return unsafe.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;")},submitWishlistCommentSuccess:function(d,e){if(d=parseInt(d),isNaN(d)||1!==d)alert(o.processError);else{var commentsText=e.comments.length>50?e.comments.slice(0,50):e.comments,readmore=e.comments.length>50?"<a href='javascript:;' class='ma-comment-readmore' data-modal='wishlist_comment_popup_"+e.id+"'>Read More</a>":"";$("#comment_"+e.id).html(o.escapeHtml(commentsText)).append(readmore),$("#wishListCommentPopupClose").trigger("click")}},myOrdersClearSearchBox:function(){$(this).css("visibility","hidden"),$("#maSrchBtn").css("visibility","visible"),$("#order_no").val("").focus();var orderNo=parseInt(utils.getParameterByName("order_id"));isNaN(orderNo)||0===orderNo||(window.location=secure_url+"/customer/myorders")},chooseRating:function(){$(this).val()<="3"?($(this).parent(".feedback-rate").siblings(".Detail-Reason").show(),$(this).parent(".feedback-rate").siblings(".thank-for-reviewDetail").hide()):(saveRating($(this).closest("form").attr("id")),$(this).closest("form").find("input,select").attr("disabled","disabled"),$(this).parent(".feedback-rate").siblings(".Detail-Reason").hide(),$(this).parent(".feedback-rate").siblings(".thank-for-reviewDetail").show())},changeFeedbackReason:function(){$(this).parent().hide(".Detail-Reason"),$(this).parent(".Detail-Reason").siblings(".thank-for-reviewDetail").show(),$(this).val().trim().length>0&&(saveRating($(this).closest("form").attr("id")),$(this).closest("form").find("input,select").attr("disabled","disabled"))},openRatingHtml:function(){$(this).find(".myacnt-shrfdbck").addClass("strt-fdbckstp")},closeRatingHtml:function(){$(this).find(".myacnt-shrfdbck").removeClass("strt-fdbckstp")},slideHtml:function(){$(this).parents(".fdbck-wrprmyacc").addClass("slide"),$(this).parents(".fdbck-wrprmyacc").remove()},save_rating:function(){if(!$(this).hasClass("myacc-fdbcksbmt-btn")){var currentPositionDiv=$(this).closest(".myacc-fdbckcntnt"),feedbackScrnno=parseInt($(this).closest(".myacnt-shrfdbck").find(".fdbck-scrn-no").text());feedbackScrnno++,$(this).closest(".myacnt-shrfdbck").find(".fdbck-scrn-no").html(feedbackScrnno),$(currentPositionDiv).addClass("slide")}var $this=$(this),rating=$this.attr("value"),oId=$this.attr("order_id"),iId=$this.attr("item_id"),ratingType=$this.attr("rating_type");var comment="";if("comment"==ratingType){var feedbackBox=$("#feedback_text_"+oId+"_"+iId);""==(comment=feedbackBox.val().trim())?feedbackBox.next(".myacc-errmsg").addClass("show"):($(this).closest(".fdbck-wrprmyacc").addClass("slide"),$(this).closest(".fdbck-wrprmyacc").remove())}var _url=secure_url+"/customer/save_rating";utils.makeRequest(_url,"POST",{rating:rating,comment:o.escapeHtml(comment),order_id:oId,item_id:iId,rating_type:ratingType},function(d,e){"2"==$.parseJSON(d).status&&window.location.reload()},PF.ERROR.raiseError,"",{})}};z.MYACCOUNT=o}(PF,$),$(document).ready(function(){PF.MYACCOUNT.init()})),$(document).ready(function(){var status=$("#status");$(".add_awb").click(function(){var $orderid_itemid=$(this).attr("rel").split("_");$("#itemid").text($orderid_itemid[1]),$("#order_id").text($orderid_itemid[0]),$("#awbBox").fadeIn(50)}),$(".cross").click(function(){return $("#"+$(this).attr("rel")).fadeOut(50),""==$("#merchant_register_login").val()&&window.location.reload(),!1}),$(".merchant_add").click(function(){var id=this.id;id>0&&$("#address"+id).attr("checked","checked")}),$("#addressForm").click(function(){$("#addressTab").fadeIn(50)}),$("#addressSubmit").click(function(){$(".error_msg").html("").removeClass("validation-advice");var errors=0;if(""==$.trim($("#textAddress").val())?($("#addressMsg").html("Please enter your address"),$("#addressMsg").addClass("validation-advice"),errors=1):(filter=/^[A-Za-z0-9\s\'-_,#&\/\/]+$/).test($.trim($("#textAddress").val()))||(errors=1,$("#addressMsg").html("Please enter a valid address"),$("#addressMsg").addClass("validation-advice")),""==$.trim($("#city").val())&&($("#cityMsg").html("Please enter your city"),$("#cityMsg").addClass("validation-advice"),errors=1),""==$.trim($("#textState").val())&&($("#stateMsg").html("Please select your state"),$("#stateMsg").addClass("validation-advice"),errors=1),""==$.trim($("#textPincode").val())?($("#pincodeMsg").html("Please enter your pincode"),$("#pincodeMsg").addClass("validation-advice"),errors=1):6!=$.trim($("#textPincode").val()).length&&(errors=1,$("#pincodeMsg").html("Please enter a 6-digit valid pincode "),$("#pincodeMsg").addClass("validation-advice")),""==$.trim($("#textPhone").val()))$("#phoneMsg").html("Please enter your phone number"),$("#phoneMsg").addClass("validation-advice"),errors=1;else{11!=$.trim($("#textPhone").val()).length&&(errors=1,$("#phoneMsg").html("Please enter a 11-digit valid landline number (e.g. 0222830XXXX)"),$("#phoneMsg").addClass("validation-advice"));var filter=/^[0-9]+$/;filter.test($.trim($("#textPhone").val()))||(errors=1,$("#phoneMsg").html("Only Digits are allowed for Phone Number"),$("#phoneMsg").addClass("validation-advice"))}if(0==errors){var form_data=$("#add_address").serialize(),url=root_url+"/merchant/postAddress";$.ajax({type:"POST",url:url,data:{data:form_data},async:!1,beforeSend:function(){},success:function(resulthtml){"success"==resulthtml?window.location.reload():$("#header_error").html(resulthtml)},error:function(message){alert("error")}})}return!1}),$("#bulk_inv").click(function(){alert("hi invoice")}),$("#bulk_ship").click(function(){alert("hi ship")}),$("#btnAddawb").click(function(){var url=root_url+"/sales_shipment/addshipment",$itemid=$("#itemid").text(),$orderid=$("#order_id").text(),$awb=$("#txtAwb").val(),$shipmentdate=$("#txtShipmentdate").val();if(""==$awb)alert("Enter AWB number");else if(""==$shipmentdate)alert("Enter shipment date ");else{$(this).prop("disabled",!0),$(this).prop("value","Please Wait");var form_data=$("#awbfrm").serialize()+"&order_id="+$orderid+"&shipment%5Bitems%5D%5B"+$itemid+"%5D="+$itemid+"&send_sms=yes&send_email=yes&shipment_comment_text='ship by merchant'";$.ajax({type:"POST",url:url,data:{data:form_data},async:!1,beforeSend:function(){},success:function(result){alert(result),$("#awbBox").fadeOut(50),location.reload()},error:function(message){alert("error. Please Resend the code."+message.toSource())}}),$(this).prop("enabled",!0),$(this).prop("value","SUBMIT")}}),$(".date_input_first").datepicker({dateFormat:"yy-mm-dd"}),$(".shipment_date_pick").datepicker({dateFormat:"yy-mm-dd"}),$(".print_invoice").click(function(){var orderid_itemid=$(this).attr("rel").split("__");$("#order_entity_id").val(orderid_itemid[0]),$("#order_item_id").val(orderid_itemid[1]),$("#invoicePrint").fadeIn(50),$("#textInvoice").val("")}),$("#btnPrint").click(function(){var errors=0;if($("#invoice_detail .error_msg").html("").removeClass("validation-advice"),""==$.trim($("#invoice_detail #textInvoice").val())&&($("#invoice_detail #invoiceMsg").html("Please enter your invoice number"),$("#invoice_detail #invoiceMsg").addClass("validation-advice"),errors=1),""==$.trim($("#invoice_detail #textTin").val())&&($("#invoice_detail #tinMsg").html("Please enter your TIN number"),$("#invoice_detail #tinMsg").addClass("validation-advice"),errors=1),""==$.trim($("#invoice_detail #textVat").val())&&($("#invoice_detail #vatMsg").html("Please enter your VAT number"),$("#invoice_detail #vatMsg").addClass("validation-advice"),errors=1),""==$.trim($("#invoice_detail #textCst").val())&&($("#invoice_detail #cstMsg").html("Please enter your CST number"),$("#invoice_detail #cstMsg").addClass("validation-advice"),errors=1),1==errors)return!1;$("#invoicePrint").fadeOut(50),setTimeout("deleteInvoiceFile("+$.trim($("#invoice_detail #textInvoice").val())+");",2e4)}),$("#btnPrint1").click(function(){url=root_url+"/merchant/printInvoice";var form_data=$("#invoice_detail").serialize();return $.ajax({type:"POST",url:url,data:{data:form_data},async:!1,beforeSend:function(){},success:function(result){alert(result)},error:function(message){alert("error. Please Resend the code."+message.toSource())}}),alert("end"),!1}),$(".cancel_request").click(function(){var orderid_itemid=$(this).attr("name").split("__");$("#order_entity_id").val(orderid_itemid[0]),$("#order_item_id").val(orderid_itemid[1]),$("#order_item_sku").val(orderid_itemid[2]),$("#order_increment_id").val(orderid_itemid[3]),$("#cancelBox").fadeIn(50)}),$("#cancel_order_request").on("click",function(){var order_id=$("#order_entity_id").val(),order_item_id=$("#order_item_id").val(),order_item_sku=$("#order_item_sku").val(),order_increment_id=$("#order_increment_id").val(),reason=$.trim($("#reason").val());return""==reason?(alert("Please select one of the reason for Cancellation"),!1):""==order_id||""==order_item_id?(alert("Try Later"),!1):($(this).prop("disabled",!0),$(this).prop("value","Please Wait"),url=root_url+"/merchant/cancelOrderRequest",$.ajax({type:"POST",url:url,data:{order_id:order_id,order_item_id:order_item_id,order_item_sku:order_item_sku,order_increment_id:order_increment_id,reason:reason},async:!1,beforeSend:function(){},success:function(result){"success"==result?(alert("Request made succesfully!!!"),location.reload()):alert(result)},error:function(message){alert("error. Please Resend the code."+message.toSource())}}),$(this).prop("disabled",!1),$(this).prop("value","Cancel Order"),!1)}),$(".return_item").click(function(){if(window.confirm("The action will confirm that you have recieved this item back in perfect condition. Do you wish to continue?")){var orderid_itemid=this.id,item_id=(orderid_itemid=orderid_itemid.split("__"))[0],order_id=orderid_itemid[1];if(item_id>0&&order_id>0){$(this).prop("disabled",!0);var button_value=$(this).prop("value");$(this).prop("value","Please Wait"),url=root_url+"/merchant/itemRecieved",$.ajax({type:"POST",url:url,data:{item_id:item_id,order_id:order_id},async:!1,beforeSend:function(){},success:function(result){"success"==result?(alert("Request submitted succesfully!!!"),location.reload()):alert(result)},error:function(message){alert("error. Please Resend the code."+message.toSource())}}),$(this).prop("disabled",!1),$(this).prop("value",button_value)}}}),$(".link_selects").click(function(){var val=$(this).attr("rel");$(".link_selects").removeClass("selected"),$(this).addClass("selected"),1==val||3==val?$(".order_item").attr("checked","checked"):2!=val&&4!=val||$(".order_item").attr("checked",!1),$("#select_record").val(val),showSelectedrecords(val)}),$(".select_record").click(function(){var val=$(this).val();1==val||3==val?$(".order_item").attr("checked","checked"):2!=val&&4!=val||$(".order_item").attr("checked",!1),showSelectedrecords(val)}),$(".download_submit").click(function(){var order_item_id=[],order_item=0,bulk_direct_ship=0;return $(".order_item:checked").each(function(){order_item_id.push($(this).val()),order_item+=1,"direct_ship_check"==this.id&&(bulk_direct_ship+=1)}),"shipment_submit"!=this.id&&"invoice_submit"!=this.id||!(order_item>0||bulk_direct_ship>0)||bulk_direct_ship==order_item?""==order_item_id?(alert("Please select records to download the file"),!1):void 0:(alert("Some of the Order SKU's are not available for Direct Ship. Please Uncheck that Order - SKU and Download file."),!1)}),$("#manifest_submit").click(function(){$(".error_msg").html("").removeClass("validation-advice");var errors=0;if(""==$.trim($("#carrier").val())&&(errors=1,$("#carrierMsg").html("Please select carrier code"),$("#carrierMsg").addClass("validation-advice")),""==$.trim($("#custom_design_from").val())&&""==$.trim($("#custom_design_to").val())&&(errors=1,$("#fromMsg").html("Please select start date OR  end date"),$("#fromMsg").addClass("validation-advice")),1==errors)return!1}),$("#contact-help").click(function(){$("#contact-form").show(),$("#contact-help").hide()}),$("#business_detail").submit(function(){$("#business_detail .error_msg").html("").removeClass("validation-advice");var errors=0;if(""==$.trim($("#business_detail #company").val())?($("#business_detail #companyMsg").html("Please enter your company name"),$("#business_detail #companyMsg").addClass("validation-advice"),errors=1):($("#business_detail #company").css("border",""),(filter=/^[a-zA-Z0-9\s.,\'&]+$/).test($.trim($("#business_detail #company").val()))||(errors=1,$("#business_detail #company .error-txt error-msg").html("Please enter a  valid company name"),$("#business_detail #company .error-txt error-msg").addClass("validation-advice"))),""==$.trim($("#business_detail #street").val()))$("#business_detail #streetMsg").html("Please enter your address"),$("#business_detail #streetMsg").addClass("validation-advice"),errors=1;else{var filter=/^[A-Za-z0-9\s\'-_,&\/\/]+$/;filter.test($.trim($("#business_detail #street").val()))||(errors=1,$("#business_detail #streetMsg").html("Please enter a valid address"),$("#business_detail #streetMsg").addClass("validation-advice"))}""==$.trim($("#business_detail #city").val())&&($("#business_detail #cityMsg").html("Please enter your city"),$("#business_detail #cityMsg").addClass("validation-advice"),errors=1),""==$.trim($("#business_detail #state").val())&&($("#business_detail #stateMsg").html("Please select your state"),$("#business_detail #stateMsg").addClass("validation-advice"),errors=1),""==$.trim($("#business_detail #pincode").val())?($("#business_detail #pincodeMsg").html("Please enter your pincode"),$("#business_detail #pincodeMsg").addClass("validation-advice"),errors=1):6!=$.trim($("#business_detail #pincode").val()).length&&(errors=1,$("#business_detail #pincodeMsg").html("Please enter a 6-digit valid pincode "),$("#business_detail #pincodeMsg").addClass("validation-advice")),""==$.trim($("#business_detail #phone").val())||11!=$.trim($("#business_detail #phone").val()).length&&(errors=1,$("#business_detail #phoneMsg").html("Please enter a 11-digit valid landline number (e.g. 0222830XXXX)"),$("#business_detail #phoneMsg").addClass("validation-advice"));var category_id_select=0;if($("#business_detail .category_chk").each(function(ele){$(this).is(":checked")&&(category_id_select=parseInt($("#business_detail #"+this.id).val()))}),0==category_id_select&&(errors=1,$("#business_detail #categoriesMsg").html("Please select atleast one category"),$("#business_detail #categoriesMsg").addClass("validation-advice")),1==errors)return!1}),$("#bank_detail").submit(function(){$(".error_msg").html("").removeClass("validation-advice");var errors=0;if(""==$.trim($("#payee_name").val())&&($("#pnMsg").html("Please Enter Valid Beneficiary Name").addClass("validation-advice"),errors=1),""==$.trim($("#acc_no").val())?($("#accMsg").html("Please Enter Valid Bank Account Number").addClass("validation-advice"),errors=1):$("#acc_no").css("border",""),""==$.trim($("#ifsc").val())?($("#ifscMsg").html("Please Enter Valid IFSC Code").addClass("validation-advice"),errors=1):$("#ifsc").css("border",""),1==errors)return!1}),$("#register_detail").submit(function(){$("#register_detail .error_msg").html("").removeClass("validation-advice");var errors=0;if(""==$.trim($("#fname").val())?($("#fnameMsg").html("Please enter your first name (Alphabets only)").addClass("validation-advice"),errors=1):($("#fname").css("border",""),(filter=/^[A-Za-z\s\']+$/).test($.trim($("#fname").val()))||(errors=1,$("#fnameMsg").html("Please enter your first name (Alphabets only)").addClass("validation-advice"))),""==$.trim($("#lname").val())?($("#lnameMsg").html("Please enter your last name (Alphabets only)").addClass("validation-advice"),errors=1):($("#lname").css("border",""),(filter=/^[A-Za-z\s\']+$/).test($.trim($("#lname").val()))||(errors=1,$("#lnameMsg").html("Please enter your last name (Alphabets only)").addClass("validation-advice"))),""==$.trim($("#register_detail #email").val())?($("#register_detail #emailMsg").html("Please enter your email ID").addClass("validation-advice"),errors=1):($("#register_detail #email").css("border",""),(filter=/^[a-zA-Z0-9._-]+@([0-9a-z][0-9a-z.-]+\.)+[a-zA-Z]{2,4}$/i).test($.trim($("#register_detail #email").val()))||(errors=1,$("#register_detail #emailMsg").html("Please enter a valid email ID").addClass("validation-advice"))),""==$.trim($("#register_detail #password").val())?($("#register_detail #passwordMsg").html("Please enter a password").addClass("validation-advice"),errors=1):$("#register_detail #password").length>0&&($.trim($("#register_detail #password").val()).length<6||$.trim($("#register_detail #password").val()).length>20)&&(errors=1,$("#register_detail #passwordMsg").html("Password should be in range of 6 to 20 characters.").addClass("validation-advice")),""==$.trim($("#register_detail #rpassword").val())?($("#register_detail #rpasswordMsg").html("Please confirm your password").addClass("validation-advice"),errors=1):($("#register_detail #rpassword").css("border",""),$.trim($("#register_detail #rpassword").val())!=$.trim($("#register_detail #password").val())&&(errors=1,$("#register_detail #rpasswordMsg").html("Your passwords don't match").addClass("validation-advice"))),""==$.trim($("#register_detail #mobile").val()))$("#register_detail #mobileMsg").html("Please enter 10-digit mobile number (e.g. 9967XXXXXX)").addClass("validation-advice"),errors=1;else{10!=$.trim($("#register_detail #mobile").val()).length&&(errors=1,$("#register_detail #mobileMsg").html("Please enter a valid 10-digit mobile number (e.g. 9967XXXXXX)").addClass("validation-advice"));var filter=/^[0-9]+$/;filter.test($.trim($("#register_detail #mobile").val()))||(errors=1,$("#register_detail #mobileMsg").html("Please Enter Valid Mobile Number").addClass("validation-advice"))}if(1==errors)return!1}),$("#mobile_detail").submit(function(){var errors=0;if($("#otpMsg").html("").removeClass("validation-advice"),""==$.trim($("#mobile_detail #mobile_code").val())&&($("#otpMsg").html("Please enter a valid verification code").addClass("validation-advice"),errors=1),1==errors)return!1}),$("#accept_detail").submit(function(){var errors=0;if($("#accept_check").is(":checked")?$("#acceptMsg").hide():($("#acceptMsg").show(),errors=1),1==errors)return!1}),$("#city").autocomplete({source:root_url+"/customer_account/suggest_city/",minLength:2,appendTo:"#city_result",select:function(event,ui){},change:function(event,ui){$("#city").removeClass("error-border")}}),$("#sendOTP").click(function(){var url=root_url+"/merchant/sendOtpCode";return $.ajax({type:"POST",url:url,beforeSend:function(){},success:function(resulthtml){$("#before-resend").hide(),$("#after-resend").show(),$("#success_otpmsg").css("display","block")},error:function(message){alert("error. Please Resend the code.")}}),!1}),$("#resendAL").click(function(){var url=root_url+"/merchant/sendActivationlink";return $.ajax({type:"POST",url:url,beforeSend:function(){},success:function(resulthtml){alert(resulthtml)},error:function(message){alert("error. Please Resend the code.")}}),!1}),$("#to-before-resend").on("click",function(){$("#after-resend").hide();var text='<p>Thank you for registering your mobile phone number </p><h2  class="mobile_number"><strong>'+otp_mobile_number+"</strong></h2><p>We have SMSed you a verification code (from <strong>LM-PPRFRY</strong>)</p><br />";$("#before-resend").html(text),$("#before-resend").show()}),$(".edit_address").click(function(){var id=this.id;if($(".edit_info").html(""),id>0){var url=root_url+"/merchant/editAddress";$.ajax({type:"POST",url:url,data:{address_id:id},async:!1,beforeSend:function(){},success:function(resulthtml){$(".edit_info").html(resulthtml),$("#edit_tab").show()},error:function(message){alert("Please Try later!")}})}return!1}),$("#edit_city").on("focus",function(){$(".ui-helper-hidden-accessible").hide(),$(this).autocomplete({source:root_url+"/customer_account/suggest_city/",minLength:2,appendTo:"#edit_city_result",select:function(event,ui){},change:function(event,ui){$("#edit_city").removeClass("error-border")}})}),$("#edit_tab").on("click","#editaddressSubmit",function(){$("#edit_address .error_msg").html("").removeClass("validation-advice");var errors=0;if(""==$.trim($("#edittextAddress").val())?($("#editaddressMsg").html("Please enter your address"),$("#editaddressMsg").addClass("validation-advice"),errors=1):(filter=/^[A-Za-z0-9\s\'-_,#&\/\/]+$/).test($.trim($("#edittextAddress").val()))||(errors=1,$("#editaddressMsg").html("Please enter a valid address"),$("#editaddressMsg").addClass("validation-advice")),""==$.trim($("#edit_city").val())&&($("#editcityMsg").html("Please enter your city"),$("#editcityMsg").addClass("validation-advice"),errors=1),""==$.trim($("#edittextState").val())&&($("#editstateMsg").html("Please select your state"),$("#editstateMsg").addClass("validation-advice"),errors=1),""==$.trim($("#edittextPincode").val())?($("#editpincodeMsg").html("Please enter your pincode"),$("#editpincodeMsg").addClass("validation-advice"),errors=1):6!=$.trim($("#edittextPincode").val()).length&&(errors=1,$("#editpincodeMsg").html("Please enter a 6-digit valid pincode "),$("#editpincodeMsg").addClass("validation-advice")),""==$.trim($("#edittextPhone").val()))$("#editphoneMsg").html("Please enter your phone number"),$("#editphoneMsg").addClass("validation-advice"),errors=1;else{11!=$.trim($("#edittextPhone").val()).length&&(errors=1,$("#editphoneMsg").html("Please enter a 11-digit valid landline number (e.g. 0222830XXXX)"),$("#editphoneMsg").addClass("validation-advice"));var filter=/^[0-9]+$/;filter.test($.trim($("#edittextPhone").val()))||(errors=1,$("#editphoneMsg").html("Only Digits are allowed for Phone Number"),$("#editphoneMsg").addClass("validation-advice"))}if(0==errors){var form_data=$("#edit_address").serialize();console.log(form_data);var url=root_url+"/merchant/postAddress";$.ajax({type:"POST",url:url,data:{data:form_data},async:!1,beforeSend:function(){},success:function(resulthtml){"success"==resulthtml?window.location.reload():$("#edit_header_error").html(resulthtml)},error:function(message){alert("error")}})}return!1}),$("#account_submit").click(function(){$("#account_edit .error_msg").html("").removeClass("validation-advice");var errors=0;if(""==$.trim($("#account_edit #address").val())?($("#account_edit #addressMsg").html("Please enter your address"),$("#account_edit #addressMsg").addClass("validation-advice"),errors=1):(filter=/^[A-Za-z0-9\s\'-_,#&\/\/]+$/).test($.trim($("#account_edit #address").val()))||(errors=1,$("#account_edit #addressMsg").html("Please enter a valid address"),$("#account_edit #addressMsg").addClass("validation-advice")),""==$.trim($("#account_edit #city").val())&&($("#account_edit #cityMsg").html("Please enter your city"),$("#account_edit #cityMsg").addClass("validation-advice"),errors=1),""==$.trim($("#account_edit #state").val())&&($("#account_edit #stateMsg").html("Please select your state"),$("#account_edit #stateMsg").addClass("validation-advice"),errors=1),""==$.trim($("#account_edit #pincode").val())?($("#account_edit #pincodeMsg").html("Please enter your pincode"),$("#account_edit #pincodeMsg").addClass("validation-advice"),errors=1):((filter=/^[0-9]+$/).test($.trim($("#account_edit #pincode").val()))||(errors=1,$("#account_edit #pincodeMsg").html("Only Digits are allowed for Pincode"),$("#account_edit #pincodeMsg").addClass("validation-advice")),6!=$.trim($("#account_edit #pincode").val()).length&&(errors=1,$("#account_edit #pincodeMsg").html("Please enter a 6-digit valid pincode "),$("#account_edit #pincodeMsg").addClass("validation-advice"))),""==$.trim($("#account_edit #phone").val())||11!=$.trim($("#account_edit #phone").val()).length&&(errors=1,$("#account_edit #phoneMsg").html("Please enter a 11-digit valid landline number (e.g. 0222830XXXX)"),$("#account_edit #phoneMsg").addClass("validation-advice")),""==$.trim($("#account_edit #mobile").val()))$("#account_edit #mobileMsg").html("Please enter your pincode"),$("#account_edit #mobileMsg").addClass("validation-advice"),errors=1;else{var filter=/^[0-9]+$/;filter.test($.trim($("#account_edit #mobile").val()))||(errors=1,$("#account_edit #mobileMsg").html("Only Digits are allowed for Mobile"),$("#account_edit #mobileMsg").addClass("validation-advice")),10!=$.trim($("#account_edit #mobile").val()).length&&(errors=1,$("#account_edit #mobileMsg").html("Please enter a 10-digit valid mobile number"),$("#account_edit #mobileMsg").addClass("validation-advice"))}if(1==errors)return!1}),$("#cp_submit").click(function(){$(".error_msg").html("").removeClass("validation-advice");var errors=0;if(""==$.trim($("#cpassword").val())&&($("#cpasswordMsg").html("Please enter current password").addClass("validation-advice"),errors=1),""==$.trim($("#npassword").val())?($("#npasswordMsg").html("Please enter new password").addClass("validation-advice"),errors=1):$.trim($("#npassword").val()).length<6&&(errors=1,$("#npasswordMsg").html("Please enter atleast 6 characters for your password").addClass("validation-advice")),""==$.trim($("#rpassword").val())?($("#rpasswordMsg").html("Please confirm your password").addClass("validation-advice"),errors=1):$.trim($("#rpassword").val())!=$.trim($("#npassword").val())&&(errors=1,$("#rpasswordMsg").html("Your passwords doesn't match").addClass("validation-advice")),1==errors)return!1}),$(".prc_check").on("change",function(){var checked=$(this).prop("checked"),value=$(this).val();$(".prc_input_"+value).prop("disabled",!checked)}),$("#comission_prc").click(function(){var form_data=$("#prc_comission_form").serialize(),url=root_url+"/merchant_listing/postcomission";return $.ajax({type:"POST",url:url,data:{data:form_data},async:!1,beforeSend:function(){},success:function(resulthtml){alert(resulthtml)},error:function(message){alert("error")}}),!1}),$("#prc_pinc").click(function(){var form_data=$("#prc_comission_form").serialize(),url=root_url+"/merchant_listing/post_prc_pincode";return $.ajax({type:"POST",url:url,data:form_data,async:!1,beforeSend:function(){},success:function(resulthtml){"success"==resulthtml?alert("data saved succesfully"):$("#prc_msg").html(resulthtml)},error:function(message){alert("error")}}),!1}),$("#prc_pincode").click(function(){var form_data=$("#prc_comission_form").serialize(),url=root_url+"/merchant_listing/post_prc_pincode";return $.ajax({type:"POST",url:url,data:{data:form_data},async:!1,beforeSend:function(){},success:function(resulthtml){"success"==resulthtml?alert("data saved succesfully"):alert("data update failed")},error:function(message){alert("error")}}),!1}),$("#merchantLogin").click(function(){$("#loginBox").fadeIn(50),$("#merchant_register_login").val("merchant_register_login")}),$(".order_paging").click(function(){var value=$(this).attr("rel");$("#pageview").val(value),$("#merchant_order").submit()}),$(".product_paging").click(function(){var value=$(this).attr("rel");$("#pageview").val(value),$("#merchant_products").submit()}),$(".item_prod_detail").click(function(){var val=$(this).attr("rel");alert(val)}),$("table#prod_data").on("click",".liveList",function(){var product_id=this.id;$(".liveList"+product_id).after('<tr id="child'+product_id+'"><td colspan=11 style="text-align:center;"><image src="'+root_url+'/media/image/opc-ajax-loader.gif"/><br /> Getting Associated Products</td></tr>'),path=root_url+"/merchant/ajaxChildProducts",$.ajax({url:path,data:{product_id:product_id},dataType:"json",type:"POST",success:function(data){"error"==data?$("#child"+product_id).remove():($("#child"+product_id).html(data),$("#"+product_id).removeClass("liveList").addClass("ajaxList"))},error:function(data){$("#child"+product_id).remove()}})}),$("table#prod_data").on("click",".ajaxList",function(){var product_id=this.id;$("#child"+product_id).toggle()}),$(".check_data").click(function(){$("form").ajaxForm({beforeSend:function(){status.empty(),body="",$("#check-data").attr("disabled",!0),$("#upload_type").attr("disabled",!0),timer=setTimeout("getProgress()",5e3),$("#check-data").val("Please wait...")},success:function(){$("#bulk").empty(),clearTimeout(timer)},complete:function(xhr){status.empty(),clearTimeout(timer);var res=$.parseJSON(xhr.responseText);if(res.error)status.append("Please rectify the below mentioned errors.<br /></br />"),scan(res.error),status.append(body+"<br />"),$("#check-data").attr("disabled",!1),$("#upload_type").attr("disabled",!1),$("#check-data").val("Save Data"),hit=0;else if(res.success){for(var i in res.success)status.append(res.success[i]+"<br />");hit=1,$("#check-data").attr("disabled",!1),$("#upload_type").attr("disabled",!1),$("#check-data").val("Save Data")}else alert("ZOIKS")},error:function(t){console.log(t)}})}),$(".bulkinvoice_form").bind("click",function(){var val=$("#check-data").val();if("Submit"==val)return $("#csvform").submit(),!1;"Validate CSV"==val&&$("form").ajaxForm({beforeSend:function(){status.empty(),body="",$("#check-data").attr("disabled",!0),$("#upload_type").attr("disabled",!0),$("#check-data").val("Please wait...")},success:function(){$("#bulk").empty()},complete:function(xhr){status.empty();var res=$.parseJSON(xhr.responseText);if(res.error)status.append("Please rectify the below mentioned errors.<br /></br />"),scan(res.error),status.append(body+"<br />"),$("#check-data").attr("disabled",!1),$("#upload_type").attr("disabled",!1),$("#check-data").val("Validate CSV"),hit=0;else if(res.success){for(var i in res.success)status.append(res.success[i]+"<br />");hit=1,$("#check-data").attr("disabled",!1),$("#upload_type").attr("disabled",!1),$("#check-data").val("Submit"),$("form").unbind("submit").find("input:submit,input:image,button:submit").unbind("click")}else alert("ZOIKS")},error:function(t){console.log(t)}})}),$("#reset").click(function(){$(".err").html("")}),$("#myform").submit(function(){var pro=!0,err="";return $("#div-error-messages").html(""),$("#div-error-messages").hide(),$(".required").each(function(){if(empty($.trim($(this).val())))$(this).addClass("error-border"),pro=!1;else if("email"==this.id||"customer_email"==this.id)0==validateEmail($(this).val())&&($(this).addClass("error-border"),pro=!1,err+=$(this).val()+" is not a valid email format.<br />");else if("pincode"==this.id)"Other"!=document.getElementById("state").value&&(6!=$(this).val().length?($(this).addClass("error-border"),pro=!1,err+="Pincode needs to be exactly 6 digits.<br />"):(filter=/^[0-9]+$/).test($(this).val())||($(this).addClass("error-border"),pro=!1,err+="Pincode needs to be numeric only.<br />"));else if("customer_mobile"==this.id)if(10!=$(this).val().length)$(this).addClass("error-border"),pro=!1,err+="Customer Mobile needs to be exactly 10 digits.<br />";else{var filter=/^[0-9]+$/;filter.test($(this).val())||($(this).addClass("error-border"),pro=!1,err+="Customer Mobile needs to be numeric only.<br />")}else"customer_password"==this.id?$(this).val().length<6&&($(this).addClass("error-border"),pro=!1,err+="Customer Password cannot be less than 6 charachters.<br />"):"customer_confirm_password"==this.id?$(this).val()!=$("#customer_password").val()&&($(this).addClass("error-border"),pro=!1,err+="Customer Passwords do not match.<br />"):"stock_inti_email"!=this.id&&"customer_email"!=this.id||0==validateEmail($(this).val())&&($(this).addClass("error-border"),pro=!1,err+=$(this).val()+" is not a valid email format.<br />")}),!1===pro&&($("#div-error-messages").html("Please rectify the below issues.<br />"+err),$("#div-error-messages").show()),pro}),$(".pod_upload").click(function(){var order_detail=$(this).attr("rel").split("__");$("#pod_entity_id").val(order_detail[0]),$("#pod_item_id").val(order_detail[1]),$("#pod_item_sku").val(order_detail[2]),$("#pod_upload_box").fadeIn(50)}),$(".pod_form_submit").bind("click",function(){"Submit"==$("#check-data").val()&&$("form").ajaxForm({beforeSend:function(){status.empty(),body="",$("#check-data").attr("disabled",!0),$("#check-data").val("Please wait...")},success:function(){$("#bulk").empty()},complete:function(xhr){status.empty();var res=$.parseJSON(xhr.responseText);if(res.error)status.append("Please rectify the below mentioned errors.<br /></br />"),scan(res.error),status.append(body+"<br />"),$("#check-data").attr("disabled",!1),$("#check-data").val("Submit"),hit=0;else if(res.success){for(var i in res.success)status.append(res.success[i]+"<br />");$("#check-data").attr("disabled",!1),$("#check-data").val("Submit"),$("form").unbind("submit").find("input:submit,input:image,button:submit").unbind("click"),window.setTimeout(function(){location.reload()},2e3)}else alert("Error")},error:function(t){console.log(t)}})}),$(".view_pod").click(function(){var pod_id=$(this).attr("rel");pod_id>0&&(path=root_url+"/merchant/podImage/"+pod_id,$.ajax({url:path,dataType:"html",type:"POST",success:function(data){$("#pod_image_div").html(data),$("#pod_view_box").fadeIn(50)},error:function(data){console.log("in error")}}))}),$("#reset").click(function(){$(".checkdropship").hide()})}),$(".iframe").is("*")&&$(".iframe").fancybox({width:"1200px",height:"2800px",autoDimensions:!0,autoScale:!0,transitionIn:"fade",transitionOut:"fade",type:"iframe"}),"Other"!=document.getElementById("state").value&&$("#pincode").keypress(function(event){return numeric(event)}),$("#phone").keypress(function(event){return numeric(event)}),$("#td-type_of_stock").on("change","#type_of_stock",function(){var options="";$("#seller").html(""),$("#span-seller-output").html(""),"138"==$.trim($(this).val())?(options+='<option value="">Please Select</option>',options+='<option value="'+seller_option[0].id+'">'+seller_option[0].name+"</option>"):"139"==$.trim($(this).val())&&(options+='<option value="">Please Select</option>',$.each(seller_option,function(index,value){1!=value.id&&(options+='<option value="'+value.id+'">'+value.name+"</option>")}),type=!0,toggleCustomer(!0)),$("#seller").html(options)});
//# sourceMappingURL=sell_on_pf.min.js.map