function pincodeSearchResponse(data){data.indexOf("Sorry!")>-1?$("#studioOverlay").hide():$("#studioOverlay").show(),$("#pincodeSearchResult").html(data),$("#studioPinSubmit").removeClass("disabled")}function pincodeSearchError(_x,_y,_z){$("#studioPinSubmit").removeClass("disabled")}function highlightDays(date){for(var i=0;i<dates.length;i++)if(dates[i].getTime()===date.getTime())return[!0,"highlight"];return[!0,"disabled"]}function initCalender(action){dt=$("#curDate").val();var makeDate=new Date(dt),dateOnly=makeDate.getDate()<10?"0"+makeDate.getDate():makeDate.getDate();void 0!==action&&"prev"==action&&(makeDate=new Date(makeDate.setMonth(makeDate.getMonth()-1)),dateOnly="01"),void 0!==action&&"next"==action&&(makeDate=new Date(makeDate.setMonth(makeDate.getMonth()+1)),dateOnly="01"),$("#curDate").val(makeDate.getFullYear()+"-"+monthNames[makeDate.getMonth()]+"-"+dateOnly),$("#datepicker").datepicker({numberOfMonths:[1,1],minDate:minEventsMonth,defaultDate:makeDate,beforeShowDay:highlightDays,onSelect:function(d,i){var dateText=$.datepicker.formatDate("yy-mm-dd",$(this).datepicker("getDate"));$("#selectedDate").val(dateText);var makeDate=new Date(dateText);makeDate=makeDate.getFullYear()+"-"+monthNames[makeDate.getMonth()]+"-"+makeDate.getDate(),$("#actionStartDate").val(":"+dateText);var cityIds=getCitySelectedIds();$("#isDateSelected").val("1"),filterStudioEvents("1",cityIds,dateText,""),$("#resetDateFilter").css("display","block")}}),$(document).click(function(){$(".ui-datepicker-today a",$(this).next()).removeClass("ui-state-highlight ui-state-hover"),$(".highlight a",$(this).next()).addClass("ui-state-highlight")})}function productSlider(id,productCol,shiftBy){var $this=$("#"+id),i=0,$slider=$this,$product=$slider.find(productCol),slidingSpan=parseInt($product.outerWidth(!0)*shiftBy),sliderWidth=$product.length*$product.outerWidth(!0),totalShifts=sliderWidth/slidingSpan,lastShiftWidth=sliderWidth%slidingSpan,actualCompleteShift=Math.floor(totalShifts),$next=$this.siblings(".ck-bill-addr-next"),$prev=$this.siblings(".ck-bill-addr-prev");$slider.width(sliderWidth),$next.on("click",function(){if(++i<actualCompleteShift)$slider.css({marginLeft:-slidingSpan*i},500),$prev.removeClass("inactive");else{var shift=parseInt($slider.css("marginLeft"))+-lastShiftWidth;$slider.css({marginLeft:shift},500),$(this).addClass("inactive"),$prev.removeClass("inactive")}}),$prev.on("click",function(){if(i--,$next.removeClass("inactive"),i<actualCompleteShift)$slider.css({marginLeft:-slidingSpan*i},500),0===i&&$(this).addClass("inactive");else{var shift=parseInt($slider.css("marginLeft"))+-lastShiftWidth;$slider.css({marginLeft:shift},500),$(this).addClass("inactive")}})}function studioEventSlider(){$(".date-event-slider-ext-wrap .date-event-slider-wrap").each(function(){var children=$(this).children(".date-event-slide").length;$(this).siblings(".date-event-cnt-wrap").children(".date-event-cnt-no").text(children),children>1?productSlider($(this).attr("id"),".date-event-slide",1):$(".date-event-slider-ext-wrap .date-event-cnt-wrap,.date-event-slider-ext-wrap .ck-bill-addr-next,.date-event-slider-ext-wrap .ck-bill-addr-prev").hide()})}function studioGallerySlider(){$(".studio-gallery-thumb-slider-ext-wrap .studio-gallery-thumb-slider-wrap").each(function(){$(this).children(".studio-gallery-slide").length>4?productSlider($(this).attr("id"),".studio-gallery-slide",4):$(".studio-gallery-thumb-slider-ext-wrap .ck-bill-addr-prev,.studio-gallery-thumb-slider-ext-wrap .ck-bill-addr-next").hide()})}function mousePosition(el){}function getCitySelectedIds(){var cityIds="";return $(".evnt-city-fltr input[type='checkbox']").each(function(){$(this).is(":checked")&&(cityIds+=$(this).attr("id")+",")}),cityIds=cityIds.slice(cityIds,-1)}function filterStudioEvents(currentPage,cityIds,dateFilter,action,isHover){var data={p:currentPage,cityIds:cityIds};$("#actionStartDate").val().split(":");"prev"==action||"next"==action?(data.action=action+"DtFilter",data.strtDt=dateFilter):""!=dateFilter||"nextPage"!=action&&"prevPage"!=action?"resetDate"==action?(data.action="resetDate",data.strtDt=""==dateFilter?$("#curDate").val():dateFilter):""!=dateFilter&&""==action?(data.action=action,data.date=dateFilter):(data.action=action,data.date=""!=dateFilter?dateFilter:$("#curDate").val()):(data.action=action,data.strtDt=$("#curDate").val()),data.dateSelected=$("#isDateSelected").val();var path=root_url+"/site_listings/getStudioEventsHTML";$.ajax({url:path,data:data,type:"POST",beforeSend:function(){$("#studioLoaderOverlay").show()},success:function(response){$("#filterCity").parent("div").replaceWith(response)},complete:function(msg){$("#studioLoaderOverlay").hide(),$(".gb-scroll").mCustomScrollbar({axis:"y"}),$("img.lazy").lazy({bind:"event",delay:0}),$(".evnt-ttl").length>0&&$(".evnt-ttl").each(function(){$(this).text().length>70?$(this).addClass("truncate"):$(this).removeClass("truncate")}),void 0===isHover&&($("#datepicker").datepicker("destroy"),initCalender(action))}})}var monthNames=["01","02","03","04","05","06","07","08","09","10","11","12"],timeoutid=0,utils=PF.UTILITIES;$(function(){function startTimer(){var clickTab2=$(".studio-auto-tab [tab-open]");timer=setInterval(function(e){i<4?(clickTab2.removeClass("active"),clickTab2.eq(i).trigger("click"),clickTab2.eq(i).addClass("active"),i+=1):i=0},changeTab)}$(".studio-dropdown").on("click",function(){$("#popup_overlay_studio").toggle(),$(this).toggleClass("arrow-up"),$(this).hasClass("arrow-up")?$(this).parent(".studio-dropdown-box").css("z-index",999):$(".studio-dropdown").parent(".studio-dropdown-box").css("z-index",9)}),$("#popup_overlay_studio").on("click",function(){$("#popup_overlay_studio").toggle(),$(".studio-dropdown").toggleClass("arrow-up"),$(".studio-dropdown").parent(".studio-dropdown-box").css("z-index",9)}),$(".studio-gallery-slide").on("click",function(){$(".studio-gallery-slide").removeClass("selected"),$(this).addClass("selected");var studiogalthumb=$(this).data("img");$(".studio-gallery-image img").attr("src",studiogalthumb)}),$(document).scroll(function(){var scroll=$(this).scrollTop();$(".studio-dropdown-box").length>0&&(scroll>$(".studio-dropdown-box").position().top?$(".studio-hdr-sec").addClass("fixed"):$(".studio-hdr-sec").removeClass("fixed"))});var timer,i=0,changeTab=2e3;!function(){var clickTab=$("[tab-open]");$(".tab-content:first").show(),$(".studio-right-sec > .tab-content:first").show(),clickTab.on("click",function(e){var tabAttr=$(this).attr("tab-open"),curIndex=$(this).index();i=curIndex,$(this).siblings().removeClass("active"),$(this).addClass("active"),$('[tab-show="'+tabAttr+'"]').siblings().hide(),$('[tab-show="'+tabAttr+'"]').show(),$('[tab-show2="'+tabAttr+'"]').siblings().hide(),$('[tab-show2="'+tabAttr+'"]').show(),e.preventDefault()})}(),startTimer(),$(".bulk-tab-wrap.studio-auto-tab").hover(function(){clearInterval(timer)},function(){startTimer()}),$(".evnt-city-fltr input[type='checkbox']").on("click",function(){filterStudioEvents("1",getCitySelectedIds(),"1"==$("#isDateSelected").val()?$("#selectedDate").val():"","pageLoad")}),$("#studioPinInput").on("click",function(){$("#studioOverlay").show(),$(".studio-pin-wrap").addClass("studio-pin-shadow"),"block"==$(".studio-pin-chk .error-text").css("display")&&$(".studio-pin-chk .error-text").hide()}),$("#studioPinSubmit").on("click",function(){var pincode,$CO;if($CO=$(this).closest(".studio-pin-input").siblings(".error-text"),""===(pincode=$("#studioPinInput").val())||pincode.length<6||pincode.length>6||isNaN(pincode))$CO.show(),$("#studioOverlay, .studio-zero-result, .studio-loct-result").hide();else{$CO.hide();var url=window.location.href,new_url=url.substring(0,url.indexOf("?"))+"?pincode="+pincode;url!=new_url&&history.pushState(null,null,new_url);var path=root_url+"/site_listings/studioPincodeSearchResult",_data={pincode:pincode},_setUpOptions={},_params={pincode:pincode};utils.makeRequest(path,"POST",_data,pincodeSearchResponse,pincodeSearchError,function(){},_params,_setUpOptions)}}),$("#studioOverlay").on("click",function(){$("#studioOverlay").hide()}),$(document).keyup(function(e){27==e.keyCode&&$("#studioOverlay").length>0&&$("#studioOverlay").hide()}),$("#studioPinInput").keypress(function(e){13==e.which&&$("#studioPinSubmit").trigger("click")}),$(window).bind("popstate",function(event){$("#studioPinInput").val(utils.getParameterByName("pincode")),""!=$("#studioPinInput").val()?$("#studioPinSubmit").trigger("click"):$("#pincodeSearchResult").html("")}),$(document).ready(function(){""!=$("#studioPinInput").val()&&$("#studioPinSubmit").trigger("click");getCitySelectedIds();var curDt=new Date;curDt.getFullYear(),curDt.getMonth(),curDt.getDate();initCalender("")})}),$(document).ready(function(){function expandSlider(){setTimeout(function(){$("div.slick-slide").removeClass(".slick-current"),$(this).addClass("slick-current")},2e3)}global_function.sliderHorizontal(".studio-gallery-thumb-slider-wrap",".studio-gallery-slide",1,".ck-bill-addr-next",".ck-bill-addr-prev",4),$(document).on("click",".event-gallery-image-thumb ul li",function(){var dataImg=$(this).data("img");$(this).closest(".event-gallery-image-thumb").siblings(".event-gallery-image").find("img").attr("src",dataImg),$(".event-gallery-image-thumb ul li").removeClass("active"),$(this).addClass("active")}),$(".studio-slect2").select2(),$(".autoplay").slick({speed:500,slidesToShow:6,slidesToScroll:1,infinite:!0,autoplay:!0,autoplaySpeed:2e3,focusOnSelect:!0,responsive:[{breakpoint:1024,settings:{sslidesToShow:5}},{breakpoint:768,settings:{sslidesToShow:4}}]}),$("div.slick-slide").on("click",function(){expandSlider()}),$(".slick-slide.slick-active.slick-current").css("width","371px"),$(".highlight .ui-state-default").each(function(){var $obj=$(this);$(this).on("mouseenter",function(e){$("#EventToolTip").show(),mousePosition($obj)}),$("#EventToolTip").on("mouseleave",function(){$("#EventToolTip").hide()})}),$(".brnd-catgry-block select, .brnd-sbcatgry-block select, .brnd-chldcatgry-block select").select2()}),$(document).ready(function(){$("#selectedDate").val(""),$("#currentPage").val("1"),$(".evnt-ttl").length>0&&$(".evnt-ttl").each(function(){$(this).text().length>70?$(this).addClass("truncate"):$(this).removeClass("truncate")}),$(".gb-scroll").mCustomScrollbar({axis:"y"}),$(document).on("click","#eventsNextBtn",function(){var currentPage=parseInt($("#currentPage").val())+1,dateText=$("#selectedDate").val().trim();filterStudioEvents(currentPage,getCitySelectedIds(),dateText,"nextPage");var scrollVal=parseInt($(".studio-events-section").offset().top);$(window).scrollTop(scrollVal)}),$(document).on("click","#eventsPrevBtn",function(){var currentPage=parseInt($("#currentPage").val())-1,dateText=$("#selectedDate").val().trim();filterStudioEvents(currentPage,getCitySelectedIds(),dateText,"prevPage");var scrollVal=parseInt($(".studio-events-section").offset().top);$(window).scrollTop(scrollVal)}),$(document).on("click","a.ui-datepicker-prev,a.ui-datepicker-next",function(){$("#resetDateFilter").css("display","none");var action=$(this).children("span").text().trim().toLowerCase(),curdate=$("#curDate").val().split("-");curdate=curdate[0]+"-"+curdate[1]+"-01",$("#curDate").val(curdate);var cityIds=getCitySelectedIds();$("#isDateSelected").val("0"),filterStudioEvents("1",cityIds,curdate,action),$("#lastAction").val(action+"Filter");var curDtTemp=curdate.split("-");curDtTemp[1]=monthNames[parseInt(curDtTemp[1])-1],$("#actionStartDate").val(action+"Filter:"+curDtTemp[0]+"-"+curDtTemp[1]+"-"+curDtTemp[2])}),$(document).on("click","#resetDateFilter",function(){$("#selectedDate").val("");parseInt($("#currentPage").val());var dateText=$("#curDate").val(),cityIds=getCitySelectedIds();$("#isDateSelected").val("0"),filterStudioEvents("1",cityIds,dateText,"resetDate"),$("#resetDateFilter").css("display","none"),$("#actionStartDate").val("resetDate:"+dateText)}),$("#productView").find('div[unbxdattr="product"]').length>1&&$("#productView").find('div[unbxdattr="product"]:visible:last').addClass("last-visible-product")}),$(window).load(function(){$(".cityTab.active").trigger("click"),$("select").select2({minimumResultsForSearch:-1}),$("#cat-selection").on("change",function(){var catId=$(this).val();if(""!=catId){$("#productView .cat-grid-view").hide(),$("#productView #div_"+catId).show();var productCount=$("#productView #div_"+catId).find('div[unbxdattr="product"]').length;$("#productView #div_"+catId).find('div[unbxdattr="product"]').removeClass("last-visible-product"),$("#productView #div_"+catId).find('div[unbxdattr="product"]:visible:last').addClass("last-visible-product"),productCount>itemPerPage&&$("#productView #div_"+catId).find(".stuio-pro-view-more-row").show()}}),$(".studio-item-view-more-btn").on("click",function(){$(this).parents(".cat-grid-view").find('div[unbxdattr="product"]:hidden').slice(0,itemPerPage).slideDown(),$(this).parents(".cat-grid-view").find('div[unbxdattr="product"]').removeClass("last-visible-product"),$(this).parents(".cat-grid-view").find('div[unbxdattr="product"]:visible:last').addClass("last-visible-product"),0==$(this).parents(".cat-grid-view").find('div[unbxdattr="product"]:hidden').length&&$(this).fadeOut("slow")})});
//# sourceMappingURL=studio.min.js.map